swagger: '2.0'
info:
  title: Order Service API
  version: '1.0'
  contact:
    name: Shopgate API
    url: https://shopgate.com
    email: support@shopgate.com
  description: |
    Shopgate Order API is designed to support all order related functionality including
    * Order Submission (Create)
    * Order Modification (Update / Cancellation)
    * Order Fulfillment (Processing Fulfillment Orders)
    This API leverages the standard Shopgate REST API authentication method.
host: order.shopgate.io
basePath: "/v1"
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
paths:
  /merchants/{merchantCode}/analytics/salesOrder/{reportType}:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: path
        name: reportType
        type: string
        required: true
        enum:
          - orderCount
          - orderRevenue
          - revenueHistogram
          - orderCountHistogram
          - averageOrderValue
          - averageLineItems
      - $ref: '#/parameters/Resolution'
      - in: query
        name: timezone
        type: string
        description: Timezone of the reporting in the format of the IANA timezone. See https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for more information.
      - in: query
        name: filters
        type: string
        format: json
        description: |
          Filters as json string to be applied. Available filters are:
           - date
           - platform
           - fulfillmentMethod.
      - in: query
        name: countSkipsUnfulfilled
        type: boolean
        default: false
        description: If set to true, for report types `orderCount` and `orderCountHistogram` will only count orders that were actually fulfilled ("completed" for BOPIS & directShip, "fulfilled" for ROPIS).
    get:
      operationId: getSalesOrderReport
      summary: Get sales order report
      description: Get sales order report
      x-internal: true
      tags:
        - Analytics
      responses:
        200:
          description: 'Sales order reporting'
          schema:
            type: object
            properties:
              reportingData:
                type: array
                items:
                  $ref: '#/definitions/ReportingMetric'
  /merchants/{merchantCode}/analytics/fulfillmentOrder/{reportType}:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: path
        name: reportType
        type: string
        required: true
        enum:
          - orderCount
          - completedOrderCount
          - orderCountHistogram
          - fulfilledOrderCountHistogram
          - fulfilledOrderRevenueHistogram
          - fulfilledOrderRevenueByLocationType
          - fulfilledOrderRevenueByStore
          - fulfilledOrderRevenueByFulfillmentMethod
          - abortedState
          - lineItemFulfillmentRate
          - lineItemReturnRate
          - orderReadyTimes
      - $ref: '#/parameters/Resolution'
      - in: query
        name: timezone
        type: string
        description: Timezone of the reporting in the format of the IANA timezone. See https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for more information.
      - in: query
        name: filters
        type: string
        format: json
        description: |
          Filters as json string to be applied. Available filters are:
           - locationCode
           - status
           - orderNumber
           - name
           - fulfillmentMethod
      - in: query
        name: filterDateField
        type: string
        description: The date field to filter for on selected report types. Currently supported by `orderCount`.
        enum:
          - createDate
          - statusChangeDate
          - completedDate
        default: statusChangeDate
    get:
      operationId: getFulfillmentOrderReport
      summary: Get fulfillment order report
      description: Get fulfillment order report
      x-internal: true
      tags:
        - Analytics
      responses:
        200:
          description: 'Fulfillment order reporting'
          schema:
            type: object
            properties:
              reportingData:
                type: array
                items:
                  $ref: '#/definitions/ReportingMetric'
  /merchants/{merchantCode}/analytics/fulfillmentOrder/{reportType}/exportCsv:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: path
        name: reportType
        type: string
        required: true
        enum:
          - orderCountHistogram
          - fulfilledOrderCountHistogram
          - abortedState
      - in: query
        name: timezone
        type: string
        description: Timezone of the reporting in the format of the IANA timezone. See https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for more information
      - in: query
        name: filters
        type: string
        format: json
        description: |
          Filters as json string to be applied. Available filters are:
           - locationCode
           - status
           - orderNumber
           - name
           - fulfillmentMethod
    get:
      operationId: getFulfillmentOrderCsvExport
      summary: Get fulfillment order csv export
      description: Get fulfillment order csv export
      x-internal: true
      tags:
        - Analytics
      produces:
        - text/csv
      responses:
        200:
          description: Returns a csv with data for the selected report type
          schema:
            type: string
  /merchants/{merchantCode}/analytics/ropis/{reportType}:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: path
        name: reportType
        type: string
        required: true
        enum:
          - reservations
          - averageLineItems
          - productAvailability
          - statusDistribution
          - checkIns
          - abortedState
          - averageReadyTime
          - conversionsAfterCheckIn
      - $ref: '#/parameters/Resolution'
      - in: query
        name: timezone
        type: string
        description: Timezone of the reporting in the format of the IANA timezone. See https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for more information
      - in: query
        name: filters
        type: string
        format: json
        description: |
          Filter string. Available filters: date, locationCode.
          The date filter is mandatory and has to be located under a first-level $and query.
          Use filter types $lte and $gte to filter for a start or end date respectively.
          The date can be the date without the timezone like "2020-01-01", in which case the start/end date based on
          the resolution and timezone passed as query parameters will be used.
          In the case of a full date-time string like "2020-01-01T00:00:00+01:00" that will override the timezone
          parameter passed in the query.
          If only the start date ($gte) was passed, the end date will be set to the end of the start date's day.
          If only the end date ($lte) was passed, the start date will be set to the beginning of the end date's day.
          Examples:
          `{"$and":[{"date":{"$gte":"2021-04-16T00:00:00Z"}}]}` - results in a search starting at 2021-04-16T00:00:01Z
          and ending 2021-04-16T23:59:59Z.
          `{"$and":[{"date":{"$lte":"2021-04-16T23:59:59Z"}}]}` - is equivalent to the above search
    get:
      operationId: getRopisReporting
      summary: Get ropis reporting
      description: Get ropis reporting
      x-internal: true
      tags:
        - Analytics
      responses:
        200:
          description: 'Ropis reporting'
          schema:
            type: object
            properties:
              reportingData:
                type: array
                items:
                  $ref: '#/definitions/ReportingMetric'
  # Add exportCsv endpoint for ROPIS reporting
  /merchants/{merchantCode}/analytics/ropis/{reportType}/exportCsv:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: path
        name: reportType
        type: string
        required: true
        enum:
          - reservations
          - checkIns
      - in: query
        name: timezone
        type: string
        description: Timezone of the reporting in the format of the IANA timezone. See https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for more information
      - in: query
        name: filters
        type: string
        format: json
        description: |
          Filter string. Available filters: date, locationCode.
          The date filter is mandatory and has to be located under a first-level $and query.
          Use filter types $lte and $gte to filter for a start or end date respectively.
          The date can be the date without the timezone like "2020-01-01", in which case the start/end date based on
          the resolution and timezone passed as query parameters will be used.
          In the case of a full date-time string like "2020-01-01T00:00:00+01:00" that will override the timezone
          parameter passed in the query.
          If only the start date ($gte) was passed, the end date will be set to the end of the start date's day.
          If only the end date ($lte) was passed, the start date will be set to the beginning of the end date's day.
          Examples:
          `{"$and":[{"date":{"$gte":"2021-04-16T00:00:00Z"}}]}` - results in a search starting at 2021-04-16T00:00:01Z
          and ending 2021-04-16T23:59:59Z.
          `{"$and":[{"date":{"$lte":"2021-04-16T23:59:59Z"}}]}` - is equivalent to the above search
    get:
      operationId: getRopisReportingCsvExport
      summary: Get ROPIS reporting csv export
      description: Get ROPIS order csv export
      x-internal: true
      tags:
        - Analytics
      produces:
        - text/csv
      responses:
        200:
          description: Returns a csv with data for the selected report type
          schema:
            type: string
  /merchants/{merchantCode}/analytics/shipFromStore/{reportType}:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: path
        name: reportType
        type: string
        required: true
        enum:
          - orders
          - averageLineItems
          - orderSplits
          - averageFulfillmentOrdersPerOrders
          - averageOrderShipments
          - orderShipments
          - abortedState
          - productUnavailability
          - locationTypeDistribution
          - warehouseDistribution
          - storeDistribution
          - dropShippingDistribution
          - averageTimeUntilFosReady
          - averageTimeUntilSosFulfilled
      - $ref: '#/parameters/Resolution'
      - in: query
        name: timezone
        type: string
        description: Timezone of the reporting in the format of the IANA timezone. See https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for more information
      - in: query
        name: filters
        type: string
        format: json
        description: |
          Filter string. Available filters: date.
          The date filter is mandatory and has to be located under a first-level $and query.
          Use filter types $lte and $gte to filter for a start or end date respectively.
          The date can be the date without the timezone like "2020-01-01", in which case the start/end date based on
          the resolution and timezone passed as query parameters will be used.
          In the case of a full date-time string like "2020-01-01T00:00:00+01:00" that will override the timezone
          parameter passed in the query.
          If only the start date ($gte) was passed, the end date will be set to the end of the start date's day.
          If only the end date ($lte) was passed, the start date will be set to the beginning of the end date's day.
          Examples:
          `{"$and":[{"date":{"$gte":"2021-04-16T00:00:00Z"}}]}` - results in a search starting at 2021-04-16T00:00:01Z
          and ending 2021-04-16T23:59:59Z.
          `{"$and":[{"date":{"$lte":"2021-04-16T23:59:59Z"}}]}` - is equivalent to the above search
    get:
      operationId: getShipFromStore
      summary: Get ship from store reporting
      description: Get ship from store reporting
      x-internal: true
      tags:
        - Analytics
      responses:
        200:
          description: 'Ship from store reporting'
          schema:
            type: object
            properties:
              reportingData:
                type: array
                items:
                  $ref: '#/definitions/ReportingMetric'
  /merchants/{merchantCode}/orders:
    parameters:
      - $ref: '#/parameters/MerchantCode'
    get:
      operationId: getSalesOrders
      summary: Get sales orders
      description: Get sales orders
      tags:
        - SalesOrder
      parameters:
        - in: query
          name: filters
          type: string
          description: "Filter string. Supported filters: id, orderNumber, externalCode, name, customerId, contactType, status, date, submitDate, updateDate, fulfillDate, completeDate, fulfillmentStatus"
        - in: query
          name: fields
          description: "Available fields: lineItems"
          format: csv
          type: string
        - name: includeInternalIds
          description: The entity gets extended with the internal ID of Shopgate, this query cannot be used by external clients.
          in: query
          type: boolean
          default: false
        - $ref: '#/parameters/limit'
        - $ref: '#/parameters/offset'
      responses:
        '200':
          description: 'Return sales orders'
          schema:
            type: object
            properties:
              orders:
                type: array
                items:
                  $ref: '#/definitions/SalesOrder'
              meta:
                $ref: '#/definitions/Pagination'
          examples:
            getSalesOrders:
              orders:
                - orderNumber: '1293747'
                  shopCode: shop_12345
                  externalCode: '000000274'
                  type: standard
                  customerId: 55c98b8e-1100-497c-8df6-4b4f0353ab2a
                  externalCustomerNumber: C1756793
                  status: new
                  expedited: false
                  localeCode: de-de
                  currencyCode: EUR
                  taxExempt: false
                  notes: Some note
                  specialInstructions: House behind the dumpster
                  data: {}
                  fulfillmentStatus: open
                  primaryBillToAddressSequenceIndex: 0
                  primaryShipToAddressSequenceIndex: 0
                  addressSequences:
                    - type: shipping
                      customerContactId: 0b475af4-7ed9-4065-b4bb-7d76c537d820
                      firstName: Max
                      middleName: René
                      lastName: Muster
                      company: 'Shopgate GmbH'
                      address1: 'Schloßstr. 10'
                      address2: 'Haus B'
                      address3: 'erste Etage'
                      address4: null
                      city: Butzbach
                      region: HE
                      postalCode: '35510'
                      country: DE
                      additionalFields:
                        dhlPostBoxNumber: 12345
                        dhlPostNumber: 1234567890
                      phone: +49 12345 6789 001
                      fax: +49 12345 6789 002
                      mobile: +49 12345 6789 003
                      emailAddress: max.muster@shopgate.com
                      orderSegment:
                        selectedShippingMethod:
                          code: standardShipping
                          serviceLevel:
                            code: standard
                            carrier:
                              code: DHL
                              name: DHL International
                            name: DHL Standard
                            cost: 4.99
                            iconUrl: 'https://myserver.com/DHL.png'
                          name: Standard Shipping
                        availableShippingMethods:
                          - code: standardShipping
                            name: Standard Shipping
                            serviceLevels:
                              - code: string
                                name: DHL Standard
                                cost: 4.99
                                iconUrl: 'https://myserver.com/DHL.png'
                                carrier:
                                  code: DHL
                                  name: DHL International
                  subTotal: 65.99
                  discountAmount: 0
                  promoAmount: 0
                  taxAmount: 12.54
                  tax2Amount: 0
                  shippingSubTotal: 4.99
                  shippingDiscountAmount: 0
                  shippingPromoAmount: 0
                  shippingTotal: 4.99
                  taxSummary:
                    - code: default_19
                      name: 19%
                      amount: 12.54
                  total: 70.98
                  date: '2021-12-16T16:05:21.342Z'
                  submitDate: '2019-09-02T09:02:57.733Z'
                  fulfillDate: '2019-09-03T15:02:32.733Z'
                  completeDate: '2019-09-03T15:02:57.733Z'
                  sourceIp: 85.45.62.2
                  userAgent: 'Mozilla/5.0 (Android 4.4; Mobile; rv:41.0) Gecko/41.0 Firefox/41.0'
                  domain: www.mydomain.com
                  platform: engage
                  os: ios
                  imported: false
                  campaignAttribution:
                    campaignCode: CMP-1
                    channel: push
                    distributionIndex: 0
                  lineItemCount: 1
              meta:
                limit: 100
                offset: 0
                totalItemCount: 1
    post:
      operationId: createSalesOrders
      summary: Create sales orders
      description: Create sales orders
      tags:
        - SalesOrder
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            required:
              - orders
            properties:
              orders:
                type: array
                minItems: 1
                maxItems: 100
                items:
                  $ref: '#/definitions/PostSalesOrder'
          x-examples:
            createSalesOrders - directShip:
              orders:
                - shopCode: shop_12345
                  customerId: 35b0ec35-eba4-6d71-bf92-d33ed8d72282
                  localeCode: de-de
                  currencyCode: EUR
                  status: open
                  addressSequences:
                    - type: billing
                      firstName: John
                      middleName: null
                      lastName: Doe
                      company: 'Shopgate GmbH'
                      address1: Schloßstr. 10
                      address2: Haus B
                      address3: erste Etage
                      address4: null
                      city: Butzbach
                      region: HE
                      postalCode: '35510'
                      country: DE
                      additionalFields: null
                      phone: +49 12345 6789 001
                      fax: +49 12345 6789 002
                      mobile: +49 12345 6789 003
                      emailAddress: max.muster@shopgate.com
                    - type: shipping
                      firstName: Max
                      middleName: René
                      lastName: Muster
                      company: null
                      address1: Hauptstr. 31
                      address2: null
                      address3: null
                      address4: null
                      city: Butzbach
                      region: HE
                      postalCode: '35510'
                      country: DE
                      additionalFields:
                        dhlPostBoxNumber: '12345'
                        dhlPostNumber: '1234567890'
                      phone: +49 12345 6789 001
                      fax: +49 12345 6789 002
                      mobile: +49 12345 6789 003
                      emailAddress: max.muster@shopgate.com
                      orderSegment:
                        selectedShippingMethod:
                          code: standardShipping
                          serviceLevel:
                            code: standard
                            carrier:
                              code: DHL
                  primaryBillToAddressSequenceIndex: 0
                  primaryShipToAddressSequenceIndex: 1
                  lineItems:
                    - code: someSelfDefinedCode
                      quantity: 2
                      fulfillmentMethod: directShip
                      fulfillmentLocationCode: null
                      shipToAddressSequenceIndex: 1
                      product:
                        code: 24-MB02
                        name: Fusion Backpack
                        price: 59.99
                        salePrice: 39.99
                        image: >-
                          https://shopgatedevcloud-omni-merchant-development.s3.amazonaws.com/FUSION/shop_31904/productPlaceholder.png
                        currencyCode: EUR
                      currencyCode: EUR
                      price: 79.98
                      unitPromoAmount: -4
                      promoAmount: -8
                      unitDiscountAmount: -3
                      discountAmount: -6
                      extendedPrice: 65.98
                  subTotal: 65.98
                  promoAmount: -5
                  discountAmount: 0
                  shippingSubTotal: 3.99
                  shippingDiscountAmount: 0
                  shippingPromoAmount: 0
                  shippingTotal: 3.99
                  total: 64.97
                  submitDate: '2021-12-20T11:50:56.067Z'
      responses:
        '201':
          description: ''
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/BatchErrors'
            properties:
              orderNumbers:
                type: array
                items:
                  type: string

        '404':
          description: Order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/orders/{orderNumber}:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
    get:
      operationId: getSalesOrder
      summary: Get sales order
      description: Get sales order
      tags:
        - SalesOrder
      parameters:
        - name: includeInternalIds
          description: The entity gets extended with the internal ID of Shopgate, this query cannot be used by external clients.
          in: query
          type: boolean
          default: false
        - name: fields
          description: |
            List of specific fields or groups to return. Possible values are: customer, orderUrl, isOrderable
          in: query
          type: string
        - $ref: '#/parameters/OriginalImages'
      responses:
        '200':
          description: 'Return sales order'
          schema:
            type: object
            properties:
              order:
                $ref: '#/definitions/GetSalesOrder'
          examples:
            getSalesOrder:
              order:
                orderNumber: '1293747'
                shopCode: shop_12345
                externalCode: '000000274'
                type: standard
                customerId: 55c98b8e-1100-497c-8df6-4b4f0353ab2a
                externalCustomerNumber: C1756793
                status: new
                expedited: false
                localeCode: de-de
                currencyCode: EUR
                taxExempt: false
                notes: Some note
                specialInstructions: House behind the dumpster
                data: {}
                fulfillmentStatus: open
                primaryBillToAddressSequenceIndex: 0
                primaryShipToAddressSequenceIndex: 0
                addressSequences:
                  - type: shipping
                    customerContactId: 0b475af4-7ed9-4065-b4bb-7d76c537d820
                    firstName: Max
                    middleName: René
                    lastName: Muster
                    company: Shopgate GmbH
                    address1: Schloßstr. 10
                    address2: Haus B
                    address3: erste Etage
                    address4: null
                    city: Butzbach
                    region: HE
                    postalCode: '35510'
                    country: DE
                    additionalFields:
                      dhlPostBoxNumber: 12345
                      dhlPostNumber: 1234567890
                    phone: +49 12345 6789 001
                    fax: +49 12345 6789 002
                    mobile: +49 12345 6789 003
                    emailAddress: max.muster@shopgate.com
                    orderSegment:
                      selectedShippingMethod:
                        code: standardShipping
                        serviceLevel:
                          code: standard
                          carrier:
                            code: DHL
                            name: DHL International
                          name: DHL Standard
                          cost: 4.99
                          iconUrl: 'https://myserver.com/DHL.png'
                        name: Standard Shipping
                      availableShippingMethods:
                        - code: standardShipping
                          name: Standard Shipping
                          serviceLevels:
                            - code: string
                              name: DHL Standard
                              cost: 4.99
                              iconUrl: 'https://myserver.com/DHL.png'
                              carrier:
                                code: DHL
                                name: DHL International
                subTotal: 65.99
                discountAmount: 0
                promoAmount: 6.60
                taxAmount: 0
                tax2Amount: 0
                shippingSubTotal: 4.99
                shippingDiscountAmount: 0
                shippingPromoAmount: 0
                shippingTotal: 0
                taxSummary:
                  - code: default_19
                    name: 19%
                    amount: 11.28
                total: 59.39
                date: '2021-12-16T16:17:47.929Z'
                submitDate: '2019-09-02T09:02:57.733Z'
                fulfillDate: '2019-09-03T15:02:32.733Z'
                completeDate: '2019-09-03T15:02:57.733Z'
                sourceIp: 85.45.62.2
                userAgent: 'Mozilla/5.0 (Android 4.4; Mobile; rv:41.0) Gecko/41.0 Firefox/41.0'
                domain: www.mydomain.com
                platform: engage
                os: ios
                imported: false
                campaignAttribution:
                  campaignCode: CMP-1
                  channel: push
                  distributionIndex: 0
                lineItemCount: 1
                returnStatus: partialReturn
                paymentTransactions:
                  - id: edadf6a6-f536-489f-92b8-c15fc1edc19b
                    externalCode: pi_GTS8a787uuRMaC86GBxpDABYn
                    status: failed
                    type: order
                    paymentMethod:
                      code: stripe
                      type: cc
                      provider: stripe
                    authorizedAmount: 59.39
                    chargedAmount: 0
                    checkoutParams:
                      paymentIntent: geosjhgirhgsigpr
                    paymentError:
                      message: Your card has insufficient funds
                      code: card_declined
                    paymentInfo:
                      type: cc
                      card:
                        type: visa
                        last4: 4242
                fulfillmentGroups:
                  - id: 648
                    fulfillmentMethod: directShip
                    fulfillmentLocationCode: string
                    shipToAddressSequenceIndex: 0
                    fulfillments:
                      - status: open
                        carrier: DHL
                        serviceLevel: sameDay
                        tracking: JJD000390007882823450
                        fulfillmentPackages:
                          - status: open
                            serviceLevel: sameDay
                            package: small
                            fulfilledFromLocationCode: DERetail001
                            weight: 2000
                            weightUnit: g
                            dimensions:
                              length: 25
                              lengthUnit: cm
                              width: 17.5
                              widthUnit: cm
                              height: 10
                              heightUnit: cm
                            tracking: JJD000390007882823450
                            pickUpBy: Kim Muster
                            labelUrl: 'https://documentserver.internal/label/label.pdf'
                            fulfillmentDate: '2021-12-16T16:17:47.929Z'
                            packageItems:
                              - salesOrderLineItemCode: '386'
                                quantity: 1
                                id: 457
                            id: 694
                            additionalProp1: {}
                        id: 981
                coupons:
                  - code: SUMMER2020
                    name: Coupon for Summer 2020
                    limits:
                      overall: 500
                      maxPerCustomer: 1
                    status: active
                    couponSet: null
                    promotion:
                      code: promo
                      name: Promo with Coupon
                lineItems:
                  - quantityChangeReason: wrongItem
                    status: inProgress
                    subStatus: null
                    code: '386'
                    quantity: 1
                    routedQuantity: 1
                    fulfillmentMethod: directShip
                    fulfillmentLocationCode: DERetail001
                    shipToAddressSequenceIndex: 0
                    product:
                      code: 24-MB02
                      name: Fusion Backpack
                      image: 'https://myawesomeshop.com/images/img1.jpg'
                      price: 79.99
                      salePrice: 65.99
                      currencyCode: EUR
                      identifiers:
                        mfgPartNum: 100-440-0.750-3434-A
                        upc: '72527273070'
                        ean: '401234567890'
                        isbn: 978-3-16-148410-0
                        sku: UGG-BB-PUR-06
                        distiPartNum: '235454356363'
                      options:
                        - code: color
                          name: Color
                          value:
                            code: red
                            name: Red
                    currencyCode: EUR
                    shippingAmount: 0
                    taxAmount: 0
                    tax2Amount: 0
                    taxExempt: false
                    unitPromoAmount: 0
                    unitDiscountAmount: 0
                    discountAmount: 0
                    promoAmount: 0
                    overrideAmount: 0
                    extendedPrice: 65.99
                    price: 79.99
                    salePrice: 65.99
                    substitutionAllowed: true
                    returnQuantity: 1
                    fulfillmentSlot:
                      id: 5_2019-09-03
                      date: '2019-09-03'
                      weekday: fri
                      from: '08:00'
                      to: '08:59'
                      status: active
                      orderCount: 10
                    appliedPromotions: []
                appliedPromotions:
                  - code: 2020summerPromotion
                    name: Summer Promotion for 2020
                    model: simpleDiscount
                    description: This promotion is for our summer coupons
                    promotionalText: This coupons gives you 10% off to celebrate the summer 2020
                    status: active
                    startDate: '2020-07-01T00:00:000'
                    endDate: '2020-07-01T00:00:000'
                    target: order
                    type: "promotion"
                    discount:
                      type: percentage
                      amount: 10
                    conditions:
                      $and:
                        - subTotal:
                            gte: 100
                        - $or:
                            - fulfillmentMethod:
                                $in:
                                  - directShip
                                  - BOPIS
                                  - ROPIS
                            - customer.segment.code:
                                $in:
                                  - employees
                                  - contractors
                    impact:
                      conditions:
                        lineItem.product.categoryCode:
                          $in:
                            - backpacks
                        lineItem.quantity: 1
                      automaticallyAddedToCart: false
                    coupon:
                      code: summer2020
                      name: Coupon 10off for the summer 2020
                      limits:
                        overall: 10
                        maxPerCustomer: null
                    couponSet: null
                    limitConditions:
                      maxOverallUsageCount: 100
                      maxCustomerUsageCount: 1
                      maxUsagePerOrder: 1
                      cantBeCombinedWithPromotionCode:
                        $in:
                          - bogo1
                fulfillmentSlots:
                  id: 5_2019-09-03
                  date: '2019-09-03'
                  weekday: fri
                  from: '08:00'
                  to: '08:59'
                  status: active
                  orderCount: 10
                customer:
                  id: d162439c-e2f9-4050-8b94-6bff33e8163b
                  internalCustomerNumber: 2
                  externalCustomerNumber: '10001'
                  firstName: Max
                  middleName: René
                  lastName: Muster
                  emailAddress: max.muster@shopgate.com
                  status: active
                  isAnonymous: true
                  externalUpdateDate: '2021-12-16T16:17:47.929Z'
                  taxExempt: false
                  taxClass: string
                  contacts:
                    - id: 55a94ee0-6671-11e9-bb49-13684cb7b248
                      externalContactCode: 357709b0-9378-470b-976e-1b040e29b97b
                      status: active
                      firstName: Max
                      middleName: René
                      lastName: Muster
                      companyName: 'Shopgate GmbH'
                      address1: Schloßstr. 10
                      address2: 'Haus B'
                      address3: 'erste Etage'
                      address4: null
                      city: Butzbach
                      postalCode: '35510'
                      region: HE
                      country: DE
                      additionalFields:
                        dhlPostBoxNumber: 12345
                        dhlPostNumber: 1234567890
                      phone: +49 12345 6789 001
                      fax: +49 12345 6789 002
                      mobile: +49 12345 6789 003
                      emailAddress: max.muster@shopgate.com
                      isDefaultBilling: true
                      isDefaultShipping: true
                      externalUpdateDate: '2021-12-16T16:17:47.929Z'
                  attributes:
                    - code: tshirtSize
                      name: T-Shirt Size
                      value:
                        code: l
                        name: L
                    - code: nameOfCat
                      name: Name of your cat
                      value: Some Cat Name
                  settings:
                    defaultLocale: de-de
                    defaultCurrency: EUR
                    communicationPreferences:
                      - email
                      - push
                      - sms
                    defaultLocationCode: DERetail001
                    marketingOptIn: false
                isOrderable: true
    post:
      operationId: updateSalesOrder
      summary: Update sales order
      description: Update sales order
      tags:
        - SalesOrder
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateSalesOrder'
          x-examples:
            updateSalesOrder:
              externalCode: myExternalCode1
              notes: Some note
              specialInstructions: House behind the dumpster
              data:
                collectedLoyaltyPoints: 10
              fulfillmentStatus: open
              status: open
              addressSequences:
                - type: shipping
                  firstName: Max
                  middleName: null
                  lastName: Muster
                  company: Awesome Company Inc
                  address1: Hauptstraße 1234
                  city: Butzbach
                  region: HE
                  postalCode: '35510'
                  country: DE
                  additionalFields:
                    dhlPostBoxNumber: 12345
                    dhlPostNumber: 1234567890
                  mobile: +49 12345 6789 003
                  emailAddress: max.muster@shopgate.com
              paymentTransactions:
                - externalCode: pi_GTS8a787uuRMaC86GBxpDABYn
                  paymentMethod:
                    code: stripe
                  authorizedAmount: 59.39
              primaryBillToAddressSequenceIndex: 0
              primaryShipToAddressSequenceIndex: 1
              sourceIp: 85.45.62.2
              userAgent: 'Mozilla/5.0 (Android 4.4; Mobile; rv:41.0) Gecko/41.0 Firefox/41.0'
              domain: www.mydomain.com
              platform: engage
              os: ios
              customer:
                attributes:
                  - code: tshirtSize
                    value: L
              lineItems:
                - code: 386
                  quantity: 2
                  currencyCode: USD
                  shippingAmount: 0
                  price: 16.80
                  extendedPrice: 0
                  taxAmount: 3.19
                  tax2Amount: 0
                  taxExempt: false
                  unitPromoAmount: 0
                  unitDiscountAmount: 0
                  discountAmount: 0
                  promoAmount: 19.99
                  overrideAmount: 0
                  substitutionAllowed: false
                  replacedLineItemId: null
              subTotal: 16.80
              discountAmount: 0
              promoAmount: 0
              shippingSubTotal: 4.12
              shippingDiscountAmount: 0
              shippingPromoAmount: 0
              shippingTotal: 4.90
              taxAmount: 3.19
              tax2Amount: 0
              taxSummary:
                - code: vat_19
                  name: Default VAT 19%
                  amount: 3.19
      responses:
        '204':
          description: 'Sales order updated'
        '400':
          description: 'Validation failed'
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/BatchErrors'
    delete:
      x-internal: true
      summary: Delete sales order
      tags:
        - SalesOrder
      description: "[Internal] Deletes sales order if the status is new"
      responses:
        '204':
          description: 'Sales order removed'
  /merchants/{merchantCode}/orders/{orderNumber}/id:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
    get:
      operationId: getSalesOrderId
      summary: Get id of sales order
      description: Get id of sales order
      x-internal: true
      tags:
        - SalesOrder
      responses:
        '200':
          description: 'Return sales order id'
          schema:
            type: object
            properties:
              id:
                type: number
          examples:
            getSalesOrderId:
              id: f0c9d0d1-99ab-44b0-b33c-6e26f0c1bf04
        '404':
          description: Order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/orders/{orderNumber}/history:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
    get:
      operationId: getSalesOrderHistory
      summary: Get history of sales order
      description: Get history of sales order
      tags:
        - SalesOrder
      parameters:
        - name: filters
          in: query
          type: string
          format: json
          description: Filters as json string to be applied. Available filter is type.
        - in: query
          name: sort
          type: string
          description: Sorting of order history.
      responses:
        '200':
          description: Returns the history
          examples:
            getSalesOrderHistory:
              history:
                - type: orderStatusUpdated
                  id: 468
                  details: string
                  entityId: 0
                  newValue:
                    status: checkedIn
                  oldValue:
                    status: ready
                  createDate: '2021-12-16T16:31:47.118Z'
                  user:
                    name: Max Muster
                    id: 237e228f-c1d0-4bb7-898d-14a5aa1ea955
          schema:
            type: object
            properties:
              history:
                type: array
                items:
                  $ref: '#/definitions/SalesOrderHistoryItem'
        '404':
          description: Sales order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/orders/{orderNumber}/checkout:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
    post:
      operationId: createSalesOrderCheckout
      summary: Create sales order checkout
      description: Create sales order checkout
      tags:
        - SalesOrder
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            additionalProperties: false
            properties:
              campaignAttribution:
                $ref: '#/definitions/CampaignAttribution'
              paymentTransactions:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: edadf6a6-f536-489f-92b8-c15fc1edc19b
                    checkoutParams:
                      type: object
                      description: Params provided by the frontend element of the provider. Can contain sensible data
                      example:
                        paymentIntentId: pi_test_23tz4hrdpgjseroh
              sourceIp:
                $ref: '#/definitions/SourceIP'
              userAgent:
                $ref: '#/definitions/UserAgent'
              domain:
                $ref: '#/definitions/Domain'
              platform:
                $ref: '#/definitions/Platform'
              os:
                $ref: '#/definitions/OS'
          x-examples:
            createSalesOrderCheckout:
              campaignAttribution:
                campaignCode: CMP-1
                channel: push
                distributionIndex: 0
              paymentTransactions:
                - id: edadf6a6-f536-489f-92b8-c15fc1edc19b
                  checkoutParams:
                    paymentIntentId: pi_test_23tz4hrdpgjseroh
              sourceIp: 85.45.62.2
              userAgent: 'Mozilla/5.0 (Android 4.4; Mobile; rv:41.0) Gecko/41.0 Firefox/41.0'
              domain: www.mydomain.com
              platform: engage
              os: ios
      responses:
        '204':
          description: 'Checkout success'
        '404':
          description: Merchant of order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/orders/{orderNumber}/fulfillmentGroups:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
    post:
      operationId: createSalesOrderFulfillmentGroups
      summary: Create sales order fulfillment groups
      description: Create sales order fulfillment groups
      tags:
        - SalesOrder
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            additionalProperties: false
            properties:
              fulfillmentGroups:
                type: array
                items:
                  $ref: '#/definitions/PostFulfillmentGroup'
          x-examples:
            createSalesOrderFulfillmentGroups:
              fulfillmentGroups:
                - fulfillmentMethod: directShip
                  fulfillmentLocationCode: string
                  shipToAddressSequenceIndex: 0
                  fulfillments:
                    - status: open
                      carrier: DHL
                      serviceLevel: sameDay
                      tracking: JJD000390007882823450
                      fulfillmentPackages:
                        - status: open
                          serviceLevel: sameDay
                          package: small
                          fulfilledFromLocationCode: DERetail001
                          weight: 2000
                          weightUnit: g
                          dimensions:
                            length: 25
                            lengthUnit: cm
                            width: 17.5
                            widthUnit: cm
                            height: 10
                            heightUnit: cm
                          tracking: JJD000390007882823450
                          pickUpBy: Kim Muster
                          labelUrl: 'https://documentserver.internal/label/label.pdf'
                          fulfillmentDate: '2021-12-16T16:35:45.833Z'
                          packageItems:
                            - salesOrderLineItemCode: '386'
                              quantity: 1
                          additionalProp1: {}
      responses:
        '201':
          description: 'Fulfillments created'
          schema:
            type: object
            properties:
              ids:
                type: array
                items:
                  type: number
                  example: 100
              errors:
                type: array
                items:
                  $ref: '#/definitions/BatchError'
  /merchants/{merchantCode}/fulfillmentOrders:
    parameters:
      - $ref: '#/parameters/MerchantCode'
    get:
      operationId: getFulfillmentOrders
      summary: Get fulfillment orders
      description: Get fulfillment orders
      tags:
        - FulfillmentOrder
      parameters:
        - in: query
          name: filters
          type: string
          description: "Filter string. Available filter: locationCode, status, orderNumber, externalCode, name, billingName, customerId, salesOrderNumber, submitDate, completeDate, readyDate, pickupReminderApplicableAt, holdUntil, plannedFulfillmentDate, pickupReminderApplicableAt, type, pickingBatchId, statusChangeDate, createDate"
        - name: includeInternalIds
          description: The entity gets extended with the internal ID of Shopgate, this query cannot be used by external clients.
          in: query
          type: boolean
          default: false
        - in: query
          name: fields
          description: "Available fields: fulfillmentOrderAddress, lineItems, fulfillments, salesOrder"
          format: csv
          type: string
        - name: sort
          description: "Sorting of orders. Available fields are: submitDate, scheduledPickupTime, type(ROPIS,BOPIS,directShip)"
          in: query
          type: string
          default: ''
        - $ref: '#/parameters/limit'
        - $ref: '#/parameters/offset'
        - name: getOriginalImageUrls
          in: query
          type: boolean
          description: Request original image URLs for LineItem product images.
          default: false
      responses:
        '200':
          description: ''
          examples:
            getFulfillmentOrders:
              fulfillmentOrders:
                - orderNumber: 1293747-0001
                  externalCode: '000000274'
                  posTransactionId: 528a-1
                  cancellationReason: expired
                  heldUntil: '2019-10-05T09:02:57.733Z'
                  pickupReminderApplicableAt: '2019-09-02T09:02:57.733Z'
                  salesOrderNumber: '1293747'
                  locationCode: DERetail001
                  type: directShip
                  customerId: 55c98b8e-1100-497c-8df6-4b4f0353ab2a
                  externalCustomerNumber: C1756793
                  routeType: standardDirectShip
                  expedited: true
                  status: new
                  subTotal: 65.99
                  taxAmount: 12.54
                  tax2Amount: 0
                  total: 65.99
                  shippingTotal: 0
                  localeCode: de-de
                  currencyCode: EUR
                  notes: Some note
                  specialInstructions: House behind the dumpster
                  scheduledPickupTime: '2019-09-03T08:00:00Z'
                  submitDate: '2019-09-02T09:02:57.733Z'
                  acceptDate: '2019-09-02T14:02:57.733Z'
                  readyDate: '2019-09-02T14:03:57.733Z'
                  completeDate: '2019-09-03T15:02:57.733Z'
                  fulfillmentOrderAddress:
                    orderIndex: 0
                    type: pickup
                    firstName: Max
                    middleName: René
                    lastName: Muster
                    company: 'Shopgate GmbH'
                    address1: 12 Somestreet
                    address2: 'Haus B'
                    address3: 'erste Etage'
                    address4: null
                    city: Butzbach
                    region: HE
                    postalCode: '35510'
                    country: DE
                    additionalFields:
                      dhlPostBoxNumber: 12345
                      dhlPostNumber: 1234567890
                    phone: +49 12345 6789 001
                    fax: +49 12345 6789 002
                    mobile: +49 12345 6789 003
                    emailAddress: max.muster@shopgate.com
              meta:
                limit: 100
                offset: 0
                totalItemCount: 1
          schema:
            type: object
            properties:
              fulfillmentOrders:
                type: array
                items:
                  $ref: '#/definitions/SimpleFulfillmentOrder'
              meta:
                $ref: '#/definitions/Pagination'
        '404':
          description: Merchant not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
    post:
      operationId: createFulfillmentOrders
      summary: Create fulfillment orders
      description: Create fulfillment orders
      tags:
        - FulfillmentOrder
      parameters:
        - in: body
          name: body
          schema:
            type: object
            additionalProperties: false
            required:
              - fulfillmentOrders
            properties:
              fulfillmentOrders:
                type: array
                items:
                  $ref: '#/definitions/PostFulfillmentOrder'
          x-examples:
            createFulfillmentOrders - minimal:
              fulfillmentOrders:
                - salesOrderNumber: '3'
                  locationCode: ST01
                  customerId: 55c98b8e-1100-497c-8df6-4b4f0353ab2a
                  channel:
                    code: USRTL
                  type: directShip
                  routeType: standardDirectShip
                  subTotal: 65.99
                  total: 65.99
                  localeCode: de-de
                  currencyCode: EUR
                  fulfillmentOrderAddress:
                    orderIndex: 0
                    type: shipping
                    firstName: Max
                    lastName: Muster
                    emailAddress: max.muster@shopgate.com
                  fulfillments:
                    - status: open
                      fulfillmentPackages:
                        - packageItems:
                            - salesOrderLineItemCode: someSelfDefinedCode
                              quantity: 1
                  lineItems:
                    - salesOrderLineItemCode: someSelfDefinedCode
                      quantity: 1
                      currencyCode: EUR
                      taxExempt: false
                      salePrice: 65.99
                      price: 79.99
                      extendedPrice: 65.99
                      product:
                        code: 24-MB02
                        name: Fusion Backpack
                        price: 65.99
                        currencyCode: EUR
                        options:
                          - code: color
                            name: Color
                            value:
                              code: red
                              name: Red
                      substitutionAllowed: true
            createFulfillmentOrders:
              fulfillmentOrders:
                - orderNumber: 1293747-0001
                  externalCode: '000000274'
                  salesOrderNumber: '1293747'
                  locationCode: DERetail001
                  customerId: 55c98b8e-1100-497c-8df6-4b4f0353ab2a
                  externalCustomerNumber: C1756793
                  channel:
                    code: USRTL
                  type: directShip
                  routeType: standardDirectShip
                  status: new
                  sequenceId: 0
                  expedited: true
                  subTotal: 65.99
                  taxAmount: 12.54
                  tax2Amount: 0
                  shippingTotal: 0
                  total: 65.99
                  localeCode: de-de
                  currencyCode: EUR
                  notes: Some note
                  specialInstructions: House behind the dumpster
                  fulfillmentOrderAddress:
                    orderIndex: 0
                    type: shipping
                    firstName: Max
                    middleName: René
                    lastName: Muster
                    company: 'Shopgate GmbH'
                    address1: 12 Somestreet
                    address2: 'Haus B'
                    address3: 'erste Etage'
                    address4: null
                    city: Butzbach
                    region: HE
                    postalCode: '35510'
                    country: DE
                    additionalFields:
                      dhlPostBoxNumber: 12345
                      dhlPostNumber: 1234567890
                    phone: +49 12345 6789 001
                    fax: +49 12345 6789 002
                    mobile: +49 12345 6789 003
                    emailAddress: max.muster@shopgate.com
                  fulfillments:
                    - status: open
                      carrier: DHL
                      serviceLevel: sameDay
                      tracking: JJD000390007882823450
                      fulfillmentPackages:
                        - status: open
                          serviceLevel: sameDay
                          package: small
                          fulfilledFromLocationCode: DERetail001
                          weight: 2000
                          weightUnit: g
                          dimensions:
                            length: 25
                            lengthUnit: cm
                            width: 17.5
                            widthUnit: cm
                            height: 10
                            heightUnit: cm
                          tracking: JJD000390007882823450
                          pickUpBy: Kim Muster
                          labelUrl: 'https://documentserver.internal/label/label.pdf'
                          fulfillmentDate: '2021-12-17T08:54:32.582Z'
                          packageItems:
                            - salesOrderLineItemCode: '386'
                              quantity: 1
                  lineItems:
                    - salesOrderLineItemCode: '386'
                      lineItemGroupId: 386-1
                      sku: 1337-hoodie-dark-green
                      quantity: 1
                      status: new
                      currencyCode: EUR
                      price: 79.99
                      salePrice: 65.99
                      shippingAmount: 0
                      unitPromoAmount: 0
                      unitDiscountAmount: 0
                      taxAmount: 12.54
                      tax2Amount: 0
                      taxExempt: false
                      discountAmount: 0
                      promoAmount: 0
                      overrideAmount: 0
                      extendedPrice: 65.99
                      product:
                        code: 24-MB02
                        name: Fusion Backpack
                        image: 'https://myawesomeshop.com/images/img1.jpg'
                        price: 79.99
                        salePrice: 65.99
                        currencyCode: EUR
                        identifiers:
                          mfgPartNum: 100-440-0.750-3434-A
                          upc: '72527273070'
                          ean: '401234567890'
                          isbn: 978-3-16-148410-0
                          sku: UGG-BB-PUR-06
                          distiPartNum: '235454356363'
                        options:
                          - code: color
                            name: Color
                            value:
                              code: dark-green
                              name: Dark Green
                      substitutionAllowed: true
                  fulfillmentSlot:
                    id: 5_2019-09-03
                    date: '2019-09-03'
                    weekday: fri
                    from: '08:00'
                    to: '08:59'
                    status: active
                    orderCount: 10
                  submitDate: '2019-09-02T09:02:57.733Z'
                  acceptDate: '2019-09-02T14:02:57.733Z'
                  readyDate: '2019-09-02T14:03:57.733Z'
                  completeDate: '2019-09-03T15:02:57.733Z'
      responses:
        '201':
          description: ''
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/BatchErrors'
            properties:
              ids:
                type: array
                items:
                  type: string
        '404':
          description: Order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/fulfillmentOrders/exportCsv:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: query
        name: filters
        type: string
        description: "Filter string. Available filter: locationCode, status, orderNumber, externalCode, name, billingName, customerId, salesOrderNumber, submitDate, completeDate, readyDate, pickupReminderApplicableAt, holdUntil, plannedFulfillmentDate, pickupReminderApplicableAt, type, pickingBatchId, statusChangeDate, createDate"
    get:
      operationId: getFulfillmentOrdersExportCsv
      summary: Get fulfillment order csv export
      description: Get fulfillment order csv export
      tags:
        - FulfillmentOrder
      produces:
        - text/csv
      responses:
        200:
          description: Returns a csv with data for the selected report type
          schema:
            type: string
        400:
          description: Export limit exceeded or malformed filters
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/fulfillmentOrders/status:
    parameters:
      - $ref: '#/parameters/MerchantCode'
    post:
      operationId: updateFulfillmentOrdersStatus
      summary: Update fulfillment orders status
      description: Updates multiple fulfillment order statuses
      tags:
        - FulfillmentOrder
      parameters:
        - in: body
          name: body
          schema:
            type: array
            minLength: 1
            items:
              $ref: '#/definitions/PostFulfillmentOrderStatus'
          x-examples:
            - orderNumber: 1-0001
              status: accepted
            - orderNumber: 2-0001
              status: rejected
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/BatchErrors'
        '404':
          description: Merchant not found
  /merchants/{merchantCode}/orders/{orderNumber}/simpleFulfillmentOrders:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
    post:
      operationId: createSimpleFulfillmentOrders
      summary: Create simple fulfillment orders for order
      description: Create simple fulfillment orders for order
      tags:
        - FulfillmentOrder
      parameters:
        - in: body
          name: body
          schema:
            type: object
            required:
              - simpleFulfillmentOrders
            properties:
              simpleFulfillmentOrders:
                type: array
                items:
                  $ref: '#/definitions/PostSimplifiedFulfillmentOrder'
          x-examples:
            createSimpleFulfillmentOrders:
              simpleFulfillmentOrders:
                - fulfillmentMethod: 'shipFromStore'
                  fulfillmentLocationCode: 'myLocationCode'
                  lineItems:
                    - salesOrderLineItemCode: 'mySalesOrderLineItemCode'
                      quantity: 1
      responses:
        '200':
          description: ''
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/BatchErrors'
            properties:
              ids:
                type: array
                items:
                  type: string
        '404':
          description: Order not found
        '409':
          description: Requested quantities exceed sales order
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/fulfillmentOrders/{orderNumber}:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
      - name: includeInternalIds
        description: The entity gets extended with the internal ID of Shopgate, this query cannot be used by external clients.
        in: query
        type: boolean
        default: false
      - name: fields
        in: query
        description: "Available fields: salesOrder"
        format: csv
        type: string
      - $ref: '#/parameters/OriginalImages'
    get:
      operationId: getFulfillmentOrder
      summary: Get fulfillment order
      description: Get fulfillment order
      tags:
        - FulfillmentOrder
      responses:
        '200':
          description: ''
          examples:
            getFulfillmentOrder:
              fulfillmentOrder:
                orderNumber: 1293747-0001
                externalCode: '000000274'
                posTransactionId: 528a-1
                cancellationReason: expired
                heldUntil: '2019-10-05T09:02:57.733Z'
                pickupReminderApplicableAt: '2019-09-02T09:02:57.733Z'
                salesOrderNumber: '1293747'
                locationCode: DERetail001
                type: directShip
                customerId: 55c98b8e-1100-497c-8df6-4b4f0353ab2a
                externalCustomerNumber: C1756793
                routeType: standardDirectShip
                expedited: true
                status: new
                channel:
                  code: DERTL
                  name: US Retail
                subTotal: 65.99
                taxAmount: 12.54
                tax2Amount: 0
                total: 65.99
                shippingTotal: 0
                localeCode: de-de
                currencyCode: EUR
                notes: Some note
                specialInstructions: House behind the dumpster
                fulfillmentOrderAddress:
                  orderIndex: 0
                  type: pickup
                  firstName: Max
                  middleName: René
                  lastName: Muster
                  company: 'Shopgate GmbH'
                  address1: 12 Somestreet
                  address2: 'Haus B'
                  address3: 'erste Etage'
                  address4: null
                  city: Butzbach
                  region: HE
                  postalCode: '35510'
                  country: DE
                  additionalFields:
                    dhlPostBoxNumber: 12345
                    dhlPostNumber: 1234567890
                  phone: +49 12345 6789 001
                  fax: +49 12345 6789 002
                  mobile: +49 12345 6789 003
                  emailAddress: max.muster@shopgate.com
                fulfillments:
                  - id: 981
                    status: open
                    carrier: DHL
                    serviceLevel: sameDay
                    tracking: JJD000390007882823450
                    createDate: '2021-12-17T09:19:14.290Z'
                    fulfillmentPackages:
                      - id: 694
                        status: open
                        serviceLevel: string
                        fulfilledFromLocationCode: DERetail001
                        weight: 0
                        weightUnit: g
                        dimensions:
                          length: 25
                          lengthUnit: cm
                          width: 17.5
                          widthUnit: cm
                          height: 10
                          heightUnit: cm
                        tracking: JJD000390007882823450
                        pickUpBy: Kim Muster
                        labelUrl: 'https://documentserver.internal/label/label.pdf'
                        returnLabelUrl: 'https://documentserver.internal/label/returnLabel.pdf'
                        fulfillmentDate: '2021-12-17T09:19:14.290Z'
                        packageItems:
                          - salesOrderLineItemCode: '386'
                            quantity: 1
                lineItems:
                  - id: 253
                    lineItemGroupId: 386-1
                    salesOrderLineItemCode: '386'
                    sku: 1337-hoodie-dark-green
                    quantity: 5
                    quantityChangeReason: wrongItem
                    status: new
                    currencyCode: EUR
                    price: 79.99
                    salePrice: 65.99
                    shippingAmount: 0
                    taxAmount: 12.54
                    tax2Amount: 0
                    taxExempt: false
                    unitPromoAmount: 0
                    unitDiscountAmount: 0
                    discountAmount: 0
                    promoAmount: 0
                    overrideAmount: 0
                    extendedPrice: 65.99
                    product:
                      code: 24-MB02
                      name: Fusion Backpack
                      image: 'https://myawesomeshop.com/images/img1.jpg'
                      price: 79.99
                      salePrice: 65.99
                      currencyCode: EUR
                      identifiers:
                        mfgPartNum: 100-440-0.750-3434-A
                        upc: '72527273070'
                        ean: '401234567890'
                        isbn: 978-3-16-148410-0
                        sku: UGG-BB-PUR-06
                        distiPartNum: '235454356363'
                      options:
                        - code: color
                          name: Color
                          value:
                            code: red
                            name: Red
                    substitutionAllowed: true
                fulfillmentSlot:
                  id: 5_2019-09-03
                  date: '2019-09-03'
                  weekday: fri
                  from: '08:00'
                  to: '08:59'
                  status: active
                  orderCount: 10
                submitDate: '2019-09-02T09:02:57.733Z'
                acceptDate: '2019-09-02T14:02:57.733Z'
                readyDate: '2019-09-02T14:03:57.733Z'
                plannedFulfillmentDate: '2019-09-02T14:03:57.733Z'
                completeDate: '2019-09-03T15:02:57.733Z'
                pickingBatchId: 10-0001
          schema:
            type: object
            properties:
              fulfillmentOrder:
                $ref: '#/definitions/FulfillmentOrder'
        '404':
          description: Fulfillment order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
    post:
      operationId: updateFulfillmentOrder
      summary: Update fulfillment order
      description: Update fulfillment order
      tags:
        - FulfillmentOrder
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            additionalProperties: false
            properties:
              status:
                $ref: '#/definitions/FulfillmentOrderStatus'
              notes:
                $ref: '#/definitions/Notes'
              posTransactionId:
                $ref: '#/definitions/PosTransactionId'
              cancellationReason:
                $ref: '#/definitions/CancellationReason'
              lineItems:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      description: Line Item id of the item to update. In case of an insert this field is not required
                      example: 10
                    status:
                      $ref: '#/definitions/LineItemStatus'
                    quantity:
                      type: number
                      minimum: 0
                      example: 5
                    quantityChangeReason:
                      $ref: '#/definitions/QuantityChangeReason'
                    product:
                      type: object
                      properties:
                        code:
                          type: string
                          example: 24-MB02
              fulfillmentSlot:
                type: object
                required:
                  - id
                properties:
                  id:
                    type: string
                    description: Id of the fulfillment slot
                    example: "5_2019-09-03"
          x-examples:
            updateFulfillmentOrder:
              status: requested
              notes: Some note
              posTransactionId: 528a-1
              cancellationReason: expired
              lineItems:
                - id: 10
                  status: requested
                  quantity: 5
                  quantityChangeReason: wrongItem
                  product:
                    code: 24-MB02
              fulfillmentSlot:
                id: 5_2019-09-03
      responses:
        '204':
          description: 'Fulfillment order updated'
        '404':
          description: Order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/fulfillmentOrders/{orderNumber}/id:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
    get:
      operationId: getFulfillmentOrderId
      summary: Get id of fulfillment order
      description: Get id of fulfillment order
      x-internal: true
      tags:
        - FulfillmentOrder
      responses:
        '200':
          description: ''
          examples:
            getFulfillmentOrderId:
              id: 100
          schema:
            type: object
            properties:
              id:
                type: number
        '404':
          description: Fulfillment order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/fulfillmentOrders/{orderNumber}/fulfillments:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
    post:
      operationId: createFulfillmentsFulfillmentOrder
      summary: Create fulfillments for fulfillment order
      description: |
        ### Creating fulfillments for directShip fulfillmentOrders
        Creating fulfillments for fulfillmentOrders of type **directShip** requires the following fields, although they are not marked as required by the API documentation:
          - serviceLevel
          - carrier
          - package code or package dimensions
          - weight
        Additionally, the fulfillmentOrder address has to contain the following fields:
          - firstName
          - lastName
          - address1
          - city
          - postalCode
          - emailAddress
          - country
      tags:
        - FulfillmentOrder
      parameters:
        - name: createShippingLabels
          in: query
          type: boolean
          default: true
          description: if set to true, one shipping label per fulfillment package will be created at the configured shipping provider(s)
        - name: body
          in: body
          schema:
            type: object
            additionalProperties: false
            required:
              - fulfillments
            properties:
              fulfillments:
                type: array
                items:
                  $ref: '#/definitions/CreateFulfillment'
          x-examples:
            createFulfillmentsFulfillmentOrder:
              fulfillments:
                - status: open
                  carrier: DHL
                  serviceLevel: sameDay
                  tracking: JJD000390007882823450
                  fulfillmentPackages:
                    - status: open
                      serviceLevel: sameDay
                      package: small
                      fulfilledFromLocationCode: DERetail001
                      weight: 2000
                      weightUnit: g
                      dimensions:
                        length: 25
                        lengthUnit: cm
                        width: 17.5
                        widthUnit: cm
                        height: 10
                        heightUnit: cm
                      tracking: JJD000390007882823450
                      pickUpBy: Kim Muster
                      labelUrl: 'https://documentserver.internal/label/label.pdf'
                      fulfillmentDate: '2021-12-17T09:00:31.645Z'
                      packageItems:
                        - salesOrderLineItemCode: '386'
                          quantity: 1
      responses:
        '201':
          description: 'Fulfillment groups created'
          schema:
            type: object
            properties:
              ids:
                type: array
                items:
                  type: number
                  example: 100
              errors:
                type: array
                items:
                  $ref: '#/definitions/BatchError'
        '404':
          description: 'Merchant or fulfillment order not found'
  /merchants/{merchantCode}/fulfillmentOrders/{orderNumber}/fulfillments/{fulfillmentId}:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
      - name: fulfillmentId
        description: The ID of the fulfillment
        in: path
        type: string
        required: true
    post:
      operationId: updateFulfillmentsFulfillmentOrder
      summary: Update fulfillments of fulfillment order
      description: Update fulfillments of fulfillment order
      tags:
        - FulfillmentOrder
      parameters:
        - name: body
          in: body
          schema:
            $ref: '#/definitions/UpdateFulfillment'
          x-examples:
            updateFulfillmentsFulfillmentOrder:
              status: open
              carrier: DHL
              serviceLevel: sameDay
              package: small
              tracking: JJD000390007882823450
              fulfillmentPackages:
                - status: open
                  serviceLevel: sameDay
                  package: small
                  fulfilledFromLocationCode: DERetail001
                  weight: 2000
                  weightUnit: g
                  dimensions:
                    length: 25
                    lengthUnit: cm
                    width: 17.5
                    widthUnit: cm
                    height: 10
                    heightUnit: cm
                  tracking: JJD000390007882823450
                  pickUpBy: Kim Muster
                  labelUrl: 'https://documentserver.internal/label/label.pdf'
                  fulfillmentDate: '2021-12-17T09:02:43.483Z'
                  packageItems:
                    - salesOrderLineItemCode: '386'
                      quantity: 1
      responses:
        '204':
          description: 'Fulfillment updated'
        '404':
          description: 'Merchant, fulfillment order or fulfillment not found'
  /merchants/{merchantCode}/fulfillmentOrders/{orderNumber}/history:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
    get:
      operationId: getFulfillmentOrderHistory
      summary: Get history of fulfillment order
      description: Get history of fulfillment order
      tags:
        - FulfillmentOrder
      parameters:
        - name: filters
          in: query
          type: string
          format: json
          description: Filters as json string to be applied. Available filter is type.
        - in: query
          name: sort
          type: string
          description: Sorting of order history.
      responses:
        '200':
          description: Returns the history
          examples:
            getFulfillmentOrderHistory:
              history:
                - type: fulfillmentOrderStatusUpdated
                  id: 468
                  details: string
                  entityId: 0
                  newValue:
                    status: checkedIn
                  oldValue:
                    status: ready
                  createDate: '2021-12-17T09:21:11.039Z'
                  user:
                    name: Max Muster
                    id: 237e228f-c1d0-4bb7-898d-14a5aa1ea955
          schema:
            type: object
            properties:
              history:
                type: array
                items:
                  $ref: '#/definitions/FulfillmentOrderHistoryItem'
        '404':
          description: Fulfillment order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/fulfillmentOrders/{orderNumber}/lineItems/{lineItemId}/status:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
      - name: lineItemId
        description: Unique Line Item IDs to return
        in: path
        type: number
        required: true
    put:
      operationId: updateLineItemStatusFulfillmentOrder
      summary: Update lineItem status of fulfillmentOrder
      description: Update lineItem status of fulfillmentOrder
      tags:
        - FulfillmentOrder
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            properties:
              status:
                $ref: '#/definitions/LineItemStatus'
          x-examples:
            updateLineItemStatusFulfillmentOrder:
              status: open
      responses:
        '204':
          description: 'Status successfully updated'
        '404':
          description: Order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/shops/{shopCode}/carts/{cartId}/orders:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - name: shopCode
        description: Represents the unique ID for the "storefront" or "Shop" for a given merchant account
        in: path
        type: string
        required: true
      - name: cartId
        description: Unique Cart ID to return
        in: path
        type: string
        required: true
    post:
      x-internal: true
      tags:
        - SalesOrder
      description: Create sales order by cart id
      operationId: createSalesOrderCartId
      summary: Create sales order by cart id
      responses:
        '200':
          description: Success
          schema:
            type: object
            properties:
              orderNumber:
                type: string
                example: "73"
          examples:
            createSalesOrderCartId:
              orderNumber: '73'
        '404':
          description: Merchant, Shop or Cart not found
        '500':
          description: Server error
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/pickingBatches:
    parameters:
      - $ref: '#/parameters/MerchantCode'
    post:
      description: Create picking batches
      operationId: createPickingBatches
      summary: Create picking batches
      tags:
        - Picking Batch
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            additionalProperties: false
            required:
              - locationCode
              - pickingBatches
            properties:
              locationCode:
                type: string
                example: warehouse
              pickingBatches:
                type: array
                minItems: 1
                items:
                  $ref: '#/definitions/CreatePickingBatch'
          x-examples:
            createPickingBatches:
              locationCode: warehouse
              pickingBatches:
                - fulfillmentOrders:
                    - orderNumber: 10001-0001
      responses:
        '200':
          description: ''
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/BatchErrors'
            properties:
              ids:
                type: array
                items:
                  type: string
        '404':
          description: Merchant or Location not found
    get:
      operationId: getPickingBatches
      summary: Get picking batches
      description: Get picking batches
      tags:
        - Picking Batch
      parameters:
        - $ref: '#/parameters/limit'
        - $ref: '#/parameters/offset'
        - in: query
          name: filters
          type: string
          format: json
          description: |
            Filters the result by given filter. Available fields are:
             <ul><li>status</li><li>locationCode</li></ul>
      responses:
        '200':
          description: ''
          examples:
            getPickingBatches:
              pickingBatches:
                - id: a4a93e83-5781-40da-8bff-b87af0452afe
                  status: open
                  startedDate: 2021-09-20T08:13:54.866Z
                  locationCode: warehouse
                  pickedDate: 2021-09-20T09:00:11.866Z
                  completedDate: 2021-09-20T10:32:42.866Z
                  fulfillmentOrders:
                    - orderNumber: 10001-0001
              meta:
                limit: 20
                offset: 0
                totalItemCount: 40
          schema:
            type: object
            properties:
              pickingBatches:
                type: array
                items:
                  $ref: '#/definitions/PickingBatch'
              meta:
                $ref: '#/definitions/Pagination'
        '404':
          description: Merchant not found
  /merchants/{merchantCode}/pickingBatches/generate:
    parameters:
      - $ref: '#/parameters/MerchantCode'
    post:
      description: Generate picking batch
      operationId: generatePickingBatch
      summary: Generate picking batch
      tags:
        - Picking Batch
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            additionalProperties: false
            required:
              - locationCode
              - fulfillmentOrderCount
            properties:
              locationCode:
                type: string
                example: warehouse
              fulfillmentOrderCount:
                type: number
                minimum: 1
                example: 3
          x-examples:
            generatePickingBatch:
              locationCode: "warehouse"
              fulfillmentOrderCount: 3
      responses:
        '200':
          description: 'ID of generated picking batch'
          schema:
            type: object
            properties:
              id:
                type: string
                example: 42
        '404':
          description: Merchant, Location or Fulfillment orders not found
  /merchants/{merchantCode}/pickingBatches/{pickingBatchId}:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: path
        name: pickingBatchId
        type: string
        required: true
    get:
      operationId: getPickingBatch
      summary: Get picking batch
      description: Get picking batch
      tags:
        - Picking Batch
      parameters:
        - name: getOriginalImageUrls
          in: query
          type: boolean
          description: Request original image URLs for LineItem product images.
          default: false
      responses:
        '200':
          description: 'Return picking batch'
          examples:
            getPickingBatch:
              pickingBatch:
                id: a4a93e83-5781-40da-8bff-b87af0452afe
                status: open
                startedDate: 2021-09-20T08:13:54.866Z
                locationCode: warehouse
                pickedDate: 2021-09-20T09:00:11.866Z
                completedDate: 2021-09-20T10:32:42.866Z
                fulfillmentOrders:
                  - orderNumber: 10001-0001
                lineItems:
                  - id: c8dcf22f-0d0b-49b4-9ed5-0e194f32e1b6
                    pickedQuantity: 3
                    quantity: 5
                    status: open
                    sku: UGG-BB-PUR-06
                    inventories:
                      - bin: 1203
                        binLocation: 1203-4
                    fulfillmentOrderLineItems:
                      - orderNumber: 10001-0001
                        lineItemId: 253
                        quantity: 2
                    product:
                      code: 24-MB02
                      name: Fusion Backpack
                      image: 'https://myawesomeshop.com/images/img1.jpg'
                      price: 79.99
                      salePrice: 65.99
                      currencyCode: EUR
                      identifiers:
                        mfgPartNum: 100-440-0.750-3434-A
                        upc: '72527273070'
                        ean: '401234567890'
                        isbn: 978-3-16-148410-0
                        sku: UGG-BB-PUR-06
                        distiPartNum: '235454356363'
                        options:
                          - code: color
                            name: Color
          schema:
            type: object
            properties:
              pickingBatch:
                $ref: '#/definitions/GetPickingBatch'
        '404':
          description: Merchant or Picking Batch not found
    post:
      description: Update picking batch
      operationId: updatePickingBatch
      summary: Update picking batch
      tags:
        - Picking Batch
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            additionalProperties: false
            required:
              - status
            properties:
              status:
                type: string
                enum:
                  - canceled
                  - picked
          x-examples:
            updatePickingBatch:
              status: canceled
      responses:
        '204':
          description: 'Picking batch updated'
        '404':
          description: Merchant or Picking Batch not found
        '409':
          description: Conflict Error
  /merchants/{merchantCode}/pickingBatches/{pickingBatchId}/lineItems:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: path
        name: pickingBatchId
        type: string
        required: true
    post:
      description: Update picking batch line items
      operationId: updatePickingBatchLineItems
      summary: Update picking batch line items
      tags:
        - Picking Batch
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: array
            minItems: 1
            items:
              type: object
              additionalProperties: false
              required:
                - lineItemId
              properties:
                lineItemId:
                  type: string
                  example: 123e4567-e89b-12d3-a456-426655440000
                quantity:
                  type: number
                  minimum: 0
                  example: 3
                pickedQuantity:
                  type: number
                  minimum: 0
                  example: 3
                quantityChangeReason:
                  $ref: '#/definitions/QuantityChangeReason'
          x-examples:
            updatePickingBatchLineItems:
              - lineItemId: 123e4567-e89b-12d3-a456-426655440000
                quantity: 3
                pickedQuantity: 3
      responses:
        '204':
          description: 'Line items updated'
        '400':
          description: Increasing the line item quantity is not possible
        '404':
          description: Merchant, Picking Batch or Line items not found
        '409':
          description: Picking Batch Line items not updatable anymore
  /merchants/{merchantCode}/pickingBatches/{pickingBatchId}/fulfillmentOrders:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: path
        name: pickingBatchId
        type: string
        required: true
    delete:
      description: Delete fulfillmentOrder from picking batch
      operationId: deleteFulfillmentOrderPickingBatch
      summary: Delete fulfillmentOrder from picking batch
      tags:
        - Picking Batch
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            additionalProperties: false
            required:
              - fulfillmentOrderNumbers
            properties:
              fulfillmentOrderNumbers:
                type: array
                minItems: 1
                items:
                  type: string
                  example: "10001-0001"
          x-examples:
            deleteFulfillmentOrderPickingBatch:
              fulfillmentOrderNumbers:
                - 10001-0001
      responses:
        '200':
          description: 'Fulfillment order removed from PickingBatch'
          schema:
            type: object
            properties:
              errors:
                type: array
                items:
                  $ref: '#/definitions/BatchError'
        '404':
          description: Merchant or Picking Batch not found
  /merchants/{merchantCode}/batch:
    parameters:
      - $ref: '#/parameters/MerchantCode'
    post:
      x-internal: true
      description: Create Batch
      operationId: createBatch
      summary: Create Batch
      tags:
        - Batch
      parameters:
        - in: body
          name: body
          description: |
            Event batched to be executed. Currently 1 operation (updated) and 1 entity is supported (fulfillmentOrder) </br>
            The payload of the events is the same structure as the single endpoint of the operation of the entity.</br>
            For instance entityUpdated with the entity product expect the same structure as a single fulfillmentOrder entry of the endpoint /v1/merchants/{merchantCode}/fulfillmentOrders/{orderNumber}
          required: true
          schema:
            type: array
            maxItems: 100
            items:
              type: object
              required:
                - event
                - entity
              properties:
                event:
                  type: string
                  enum:
                    - entityUpdated
                entity:
                  type: string
                  enum:
                    - fulfillmentOrder
                entityId:
                  type: string
                  description: Id of the affected entity. Only required if the event is entityUpdated or entityDeleted
                payload:
                  type: object
            example:
              - event: entityUpdated
                entityId: 267-0001
                entity: fulfillmentOrder
                payload:
                  lineItems:
                    - id: 2728270
                      quantity: 8
                      quantityChangeReason: wrongQuantity
      responses:
        200:
          description: OK
          schema:
            type: object
            required:
              - errors
            properties:
              errors:
                $ref: '#/definitions/ErrorList'
            example:
              errors:
                - code: 400
                  entity: fulfillmentOrder
                  entityIndex: 0
                  reason: fulfillmentOrder does not pass validation
                  subentityPath: []
                  validationErrors:
                    - code: OBJECT_MISSING_REQUIRED_PROPERTY
                      message: "Missing required property: code"
                      path: ["fulfillmentOrder", "0"]
        400:
          description: Validation error
          schema:
            $ref: '#/definitions/ValidationError'
        404:
          description: Merchant, Shop or Cart not found
  /merchants/{merchantCode}/returnReasons:
    parameters:
      - $ref: '#/parameters/MerchantCode'
    get:
      x-internal: true
      operationId: getReturnReasons
      summary: Get return reasons
      description: Get return reasons
      tags:
        - ReturnReasons
      parameters:
        - name: filters
          in: query
          type: string
          format: json
          description: Filters as json string to be applied. Available filter is status.
        - in: query
          name: locale
          type: string
          default: en-us
          description: "Locale for return reason name. Default: en-us."
      responses:
        '200':
          description: 'Return return reasons'
          schema:
            type: object
            properties:
              returnReasons:
                type: array
                items:
                  $ref: '#/definitions/ReturnReason'
          examples:
            getReturnReasons:
              returnReasons:
                - code: damaged
                  status: active
                  sequenceId: 1
                  name: damaged
    post:
      x-internal: true
      operationId: createReturnReasons
      summary: Create return reasons
      description: Create return reasons
      tags:
        - ReturnReasons
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            required:
              - returnReasons
            properties:
              returnReasons:
                type: array
                minItems: 1
                items:
                  $ref: '#/definitions/CreateReturnReason'
          x-examples:
            createReturnReasons:
              returnReasons:
                - code: damaged
                  status: active
                  sequenceId: 1
                  name: damaged
      responses:
        '201':
          description: ''
          schema:
            allOf:
              - $ref: '#/definitions/BatchErrors'
        default:
          description: Unexpected error
          schema:
              $ref: '#/definitions/Error'
  /merchants/{merchantCode}/returnReasons/{returnReasonCode}:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/ReturnReasonCode'
    post:
      x-internal: true
      operationId: updateReturnReason
      summary: Update return reason
      description: Update return reason
      tags:
        - ReturnReasons
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            additionalProperties: false
            properties:
              status:
                type: string
                enum:
                  - active
                  - inactive
              name:
                $ref: '#/definitions/LocalizationShort'
              sequenceId:
                type: number
                minimum: 0
          x-examples:
            updateReturnReason:
                status: inactive
                name:
                  en-us: 'damaged'
                  de-de: 'beschädigt'
      responses:
        '204':
          description: Return reason updated
        '404':
          description: Merchant or return reason not found
        '409':
          description: Conflict Error
    delete:
      x-internal: true
      description: Delete return reason
      operationId: deleteReturnReason
      summary: Delete return reason
      tags:
        - ReturnReasons
      responses:
        '200':
          description: Return reason removed
        '404':
          description: Merchant or return reason not found
  /merchants/{merchantCode}/productConditions:
    parameters:
      - $ref: '#/parameters/MerchantCode'
    get:
      x-internal: true
      operationId: getProductConditions
      summary: Get product conditions
      description: Get product conditions
      tags:
        - ProductConditions
      parameters:
        - in: query
          name: locale
          type: string
          default: en-us
          description: "Locale for product condition name. Default: en-us."
      responses:
        '200':
          description: Return product conditions
          schema:
            type: object
            properties:
              productConditions:
                type: array
                items:
                  $ref: '#/definitions/ProductCondition'
          examples:
            getProductConditions:
              productConditions:
                - code: poor
                  status: active
                  sequenceId: 1
                  name: poor
    post:
      x-internal: true
      operationId: createProductConditions
      summary: Create product conditions
      description: Create product conditions
      tags:
        - ProductConditions
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            required:
              - productConditions
            properties:
              productConditions:
                type: array
                minItems: 1
                items:
                  $ref: '#/definitions/CreateProductCondition'
          x-examples:
            createProductConditions:
              productConditions:
                - code: poor
                  status: active
                  sequenceId: 1
                  name:
                    en-us: 'poor'
                    de-de: 'schlecht'
      responses:
        '201':
          description: ''
          schema:
            allOf:
              - $ref: '#/definitions/BatchErrors'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/productConditions/{productConditionCode}:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/ConditionCode'
    post:
      x-internal: true
      operationId: updateProductCondition
      summary: Update product condition
      description: Update product condition
      tags:
        - ProductConditions
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            additionalProperties: false
            properties:
              status:
                type: string
                enum:
                  - active
                  - inactive
              name:
                $ref: '#/definitions/LocalizationShort'
              sequenceId:
                type: number
          x-examples:
            updateProductCondition:
              status: active
              sequenceId: 2
              name:
                en-us: 'poor'
                de-de: 'schlecht'
      responses:
        '204':
          description: Product condition updated
        '404':
          description: Merchant or product condition not found
        '409':
          description: Conflict Error
    delete:
      x-internal: true
      operationId: deleteProductCondition
      summary: Delete product condition
      description: Delete product condition
      tags:
        - ProductConditions
      responses:
        '200':
          description: Product condition removed
        '404':
          description: Merchant or product condition not found
  /merchants/{merchantCode}/returnOrders:
    parameters:
      - $ref: '#/parameters/MerchantCode'
    get:
      operationId: getReturnOrders
      summary: Get return orders
      description: Get return orders
      tags:
        - ReturnOrder
      parameters:
        - in: query
          name: filters
          type: string
          description: |
            Filters as JSON string to be applied. Available filters are `orderNumber`, `externalCode`, `salesOrderNumber`,
            `name`, `status`, `fulfillmentMethod`, `locationCode`, `createDate`, `submitDate`, `completeDate`, `customerId`.
        - in: query
          name: fields
          description: "Available fields: lineItems, salesOrder"
          format: csv
          type: string
        - $ref: '#/parameters/Sort'
        - $ref: '#/parameters/limit'
        - $ref: '#/parameters/offset'
        - name: getOriginalImageUrls
          in: query
          type: boolean
          description: Request original image URLs for LineItem product images.
          default: false
      responses:
        '200':
          description: ''
          examples:
            getReturnOrders:
              returnOrders:
                - orderNumber: R1256
                  externalCode: '000000274'
                  salesOrderNumber: '1256'
                  type: return
                  customerId: 55c98b8e-1100-497c-8df6-4b4f0353ab2a
                  externalCustomerNumber: C1756793
                  status: new
                  expedited: true
                  localeCode: 'de-de'
                  currencyCode: EUR
                  notes: 'Some note'
                  specialInstructions: 'House behind the dumpster'
                  data: {}
                  primaryBillToAddressSequenceIndex: 0
                  primaryShipToAddressSequenceIndex: 0
                  addressSequences:
                    - type: shipping
                      orderIndex: 0
                      customerContactId: '0b475af4-7ed9-4065-b4bb-7d76c537d820'
                      firstName: Max
                      middleName: René
                      lastName: Muster
                      company: 'Shopgate GmbH'
                      address1: 'Schloßstr. 10'
                      address2: 'Haus B'
                      address3: 'erste Etage'
                      address4: null
                      city: Butzbach
                      region: HE
                      postalCode: 35510
                      country: DE
                      phone: '+49 12345 6789 001'
                      fax: '+49 12345 6789 002'
                      mobile: '+49 12345 6789 003'
                      emailAddress: 'max.muster@shopgate.com'
                  subTotal: -65.99
                  discountAmount: 0
                  promoAmount: 6.6
                  taxAmount: 0
                  tax2Amount: 0
                  shippingSubTotal: -4.99
                  shippingDiscountAmount: 0
                  shippingPromoAmount: 0
                  shippingTotal: 0
                  taxExempt: false
                  taxSummary:
                    - code: default_19
                      name: 19%
                      amount: 12.54
                  total: -65.99
                  date: '2019-10-05T09:02:57.733Z'
                  submitDate: '2019-09-02T09:02:57.733Z'
                  completeDate: '2019-09-03T15:02:57.733Z'
                  dropOffType: inPerson
                  dropOffLocationCode: DERetail001
                  os: android
                  imported: false
                  paymentTransactions:
                    - id: '27cd64e8-02b0-4959-aada-57d384e5142e'
                      externalCode: 're_2KqaVM7uuRMaCx6G1XGapN8F'
                      sourcePaymentTransaction: 'edadf6a6-f536-489f-92b8-c15fc1edc19b'
                      status: success
                      type: refund
                      paymentMethod:
                        code: stripe
                        type: cc
                        provider: stripe
                      refundAmount: 64.38
                      paymentError:
                        message: 'Your card has insufficient funds'
                        code: 'card_declined'
                      paymentInfo:
                        type: cc
                        card:
                          type: visa
                          last4: 4242
                  lineItems:
                    - code: 'R386'
                      salesOrderLineItemCode: '386'
                      status: open
                      quantity: 1
                      returnReasonCode: itemDamaged
                      conditionCode: good
                      product:
                        code: '24-MB02'
                        name: Fusion backpack
                        image: 'https://myawesomeshop.com/images/img1.jpg'
                        price: 79.99
                        salePrice: 65.99
                        currencyCode: EUR
                        identifiers:
                          mfgPartNum: '100-440-0.750-3434-A'
                          upc: '72527273070'
                          ean: '401234567890'
                          isbn: '978-3-16-148410-0'
                          sku: 'UGG-BB-PUR-06'
                          distiPartNum: '235454356363'
                        options:
                          - code: color
                            name: Color
                            value:
                              code: red
                              name: Red
                      currencyCode: EUR
                      price: -79.99
                      shippingAmount: 0
                      taxAmount: 0
                      tax2Amount: 0
                      taxExempt: false
                      unitPromoAmount: 0
                      unitDiscountAmount: 0
                      discountAmount: 0
                      promoAmount: 0
                      overrideAmount: 0
                      extendedPrice: -65.99
                      note: "Some note"
              meta:
                limit: 100
                offset: 0
                totalItemCount: 1
          schema:
            type: object
            properties:
              returnOrders:
                type: array
                items:
                  $ref: '#/definitions/ReturnOrder'
              meta:
                $ref: '#/definitions/Pagination'
        '404':
          description: Merchant not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
    post:
      operationId: createReturnOrders
      summary: Create return orders
      description: Create return orders
      tags:
        - ReturnOrder
      parameters:
        - in: body
          name: body
          schema:
            type: object
            additionalProperties: false
            required:
              - returnOrders
            properties:
              returnOrders:
                type: array
                minItems: 1
                items:
                  $ref: '#/definitions/PostReturnOrder'
          x-examples:
            createReturnOrders:
              returnOrders:
                - externalCode: '000000274'
                  salesOrderNumber: '1256'
                  type: return
                  customerId: 55c98b8e-1100-497c-8df6-4b4f0353ab2a
                  externalCustomerNumber: C1756793
                  status: new
                  expedited: true
                  localeCode: 'de-de'
                  currencyCode: EUR
                  notes: 'Some note'
                  specialInstructions: 'House behind the dumpster'
                  data: {}
                  primaryBillToAddressSequenceIndex: 0
                  primaryShipToAddressSequenceIndex: 0
                  addressSequences:
                    - type: shipping
                      customerContactId: '0b475af4-7ed9-4065-b4bb-7d76c537d820'
                      firstName: Max
                      middleName: René
                      lastName: Muster
                      company: 'Shopgate GmbH'
                      address1: 'Schloßstr. 10'
                      address2: 'Haus B'
                      address3: 'erste Etage'
                      address4: null
                      city: Butzbach
                      region: HE
                      postalCode: 35510
                      country: DE
                      phone: '+49 12345 6789 001'
                      fax: '+49 12345 6789 002'
                      mobile: '+49 12345 6789 003'
                      emailAddress: 'max.muster@shopgate.com'
                  subTotal: -65.99
                  discountAmount: 0
                  promoAmount: 6.6
                  taxAmount: 0
                  tax2Amount: 0
                  shippingSubTotal: -4.99
                  shippingDiscountAmount: 0
                  shippingPromoAmount: 0
                  shippingTotal: 0
                  taxExempt: false
                  taxSummary:
                    - code: default_19
                      name: 19%
                      amount: 12.54
                  total: -65.99
                  date: '2019-10-05T09:02:57.733Z'
                  submitDate: '2019-09-02T09:02:57.733Z'
                  completeDate: '2019-09-03T15:02:57.733Z'
                  dropOffType: inPerson
                  dropOffLocationCode: DERetail001
                  os: android
                  imported: false
                  lineItems:
                    - code: 'R386'
                      salesOrderLineItemCode: '386'
                      status: open
                      quantity: 1
                      returnReasonCode: itemDamaged
                      conditionCode: good
                      product:
                        code: '24-MB02'
                        name: Fusion backpack
                        image: 'https://myawesomeshop.com/images/img1.jpg'
                        price: 79.99
                        salePrice: 65.99
                        currencyCode: EUR
                        identifiers:
                          mfgPartNum: '100-440-0.750-3434-A'
                          upc: '72527273070'
                          ean: '401234567890'
                          isbn: '978-3-16-148410-0'
                          sku: 'UGG-BB-PUR-06'
                          distiPartNum: '235454356363'
                        options:
                          - code: color
                            name: Color
                            value:
                              code: red
                              name: Red
                      currencyCode: EUR
                      price: -79.99
                      shippingAmount: 0
                      taxAmount: 0
                      tax2Amount: 0
                      taxExempt: false
                      unitPromoAmount: 0
                      unitDiscountAmount: 0
                      discountAmount: 0
                      promoAmount: 0
                      overrideAmount: 0
                      extendedPrice: -65.99
                      note: "Some note"
      responses:
        '200':
          description: ''
          schema:
            type: object
            allOf:
              - $ref: '#/definitions/BatchErrors'
            properties:
              ids:
                type: array
                items:
                  type: string
        '404':
          description: Order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/returnOrders/exportCsv:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: query
        name: filters
        type: string
        format: json
        description: |
          Filters as JSON string to be applied. Available filters are `orderNumber`, `externalCode`, `salesOrderNumber`,
          `name`, `status`, `fulfillmentMethod`, `locationCode`, `createDate`, `submitDate`, `completeDate`, `customerId`.
    get:
      operationId: getReturnOrdersCsvExport
      summary: Get an export of return orders in the CSV format.
      x-internal: true
      tags:
        - ReturnOrder
      produces:
        - text/csv
      responses:
        200:
          description: Returns a CSV file with the requested data for ROs.
          schema:
            type: string
  /merchants/{merchantCode}/returnOrders/{orderNumber}:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - $ref: '#/parameters/OrderNumber'
      - name: getOriginalImageUrls
        in: query
        type: boolean
        description: Request original image URLs for LineItem product images.
        default: false
    get:
      operationId: getReturnOrder
      summary: Get return order
      description: Get return order
      tags:
        - ReturnOrder
      parameters:
        - in: query
          name: fields
          description: "Available fields: possibleFulfillmentLocations, salesOrder"
          format: csv
          type: string
      responses:
        '200':
          description: ''
          examples:
            getReturnOrder:
              returnOrder:
                orderNumber: R1256
                externalCode: '000000274'
                salesOrderNumber: '1256'
                type: return
                customerId: 55c98b8e-1100-497c-8df6-4b4f0353ab2a
                externalCustomerNumber: C1756793
                status: new
                expedited: true
                localeCode: 'de-de'
                currencyCode: EUR
                notes: 'Some note'
                specialInstructions: 'House behind the dumpster'
                data: {}
                primaryBillToAddressSequenceIndex: 0
                primaryShipToAddressSequenceIndex: 0
                addressSequences:
                  - type: shipping
                    customerContactId: '0b475af4-7ed9-4065-b4bb-7d76c537d820'
                    firstName: Max
                    middleName: René
                    lastName: Muster
                    company: 'Shopgate GmbH'
                    address1: 'Schloßstr. 10'
                    address2: 'Haus B'
                    address3: 'erste Etage'
                    address4: null
                    city: Butzbach
                    region: HE
                    postalCode: 35510
                    country: DE
                    phone: '+49 12345 6789 001'
                    fax: '+49 12345 6789 002'
                    mobile: '+49 12345 6789 003'
                    emailAddress: 'max.muster@shopgate.com'
                subTotal: -65.99
                discountAmount: 0
                promoAmount: 6.6
                taxAmount: 0
                tax2Amount: 0
                shippingSubTotal: -4.99
                shippingDiscountAmount: 0
                shippingPromoAmount: 0
                shippingTotal: 0
                taxExempt: false
                taxSummary:
                  - code: default_19
                    name: 19%
                    amount: 12.54
                total: -65.99
                date: '2019-10-05T09:02:57.733Z'
                submitDate: '2019-09-02T09:02:57.733Z'
                completeDate: '2019-09-03T15:02:57.733Z'
                dropOffType: inPerson
                dropOffLocationCode: DERetail001
                os: android
                imported: false
                paymentTransactions:
                  - id: '27cd64e8-02b0-4959-aada-57d384e5142e'
                    externalCode: 're_2KqaVM7uuRMaCx6G1XGapN8F'
                    sourcePaymentTransaction: 'edadf6a6-f536-489f-92b8-c15fc1edc19b'
                    status: success
                    type: refund
                    paymentMethod:
                      code: stripe
                      type: cc
                      provider: stripe
                    refundAmount: 64.38
                    paymentError:
                      message: 'Your card has insufficient funds'
                      code: 'card_declined'
                    paymentInfo:
                      type: cc
                      card:
                        type: visa
                        last4: 4242
                lineItems:
                  - code: 'R386'
                    salesOrderLineItemCode: '386'
                    status: open
                    quantity: 1
                    returnReasonCode: itemDamaged
                    conditionCode: good
                    product:
                      code: '24-MB02'
                      name: Fusion backpack
                      image: 'https://myawesomeshop.com/images/img1.jpg'
                      price: 79.99
                      salePrice: 65.99
                      currencyCode: EUR
                      identifiers:
                        mfgPartNum: '100-440-0.750-3434-A'
                        upc: '72527273070'
                        ean: '401234567890'
                        isbn: '978-3-16-148410-0'
                        sku: 'UGG-BB-PUR-06'
                        distiPartNum: '235454356363'
                      options:
                        - code: color
                          name: Color
                          value:
                            code: red
                            name: Red
                    currencyCode: EUR
                    price: -79.99
                    shippingAmount: 0
                    taxAmount: 0
                    tax2Amount: 0
                    taxExempt: false
                    unitPromoAmount: 0
                    unitDiscountAmount: 0
                    discountAmount: 0
                    promoAmount: 0
                    overrideAmount: 0
                    extendedPrice: -65.99
                    note: "Some note"
                    possibleFulfillmentLocations: ['HE1', 'BV14']
          schema:
            type: object
            properties:
              returnOrder:
                $ref: '#/definitions/ReturnOrder'
        '404':
          description: Return order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
    post:
      operationId: updateReturnOrder
      summary: Update return order
      description: Update return order
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/UpdateReturnOrder'
      tags:
        - ReturnOrder
      x-examples:
        updateReturnOrder:
          status: open
          dropOffLocationCode: warehouse
          dropOffType: shipped
          notes: Here the updated notes
          lineItems:
            - code: R386-1
              status: open
      responses:
        '204':
          description: 'Return order updated'
        '400':
          description: 'Update not valid'
        '404':
          description: Return order not found
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/Error'
  /merchants/{merchantCode}/analytics/returnInStore/{reportType}:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: path
        name: reportType
        type: string
        required: true
        enum:
          - returns
          - averageLineItems
          - returnReasonsDistribution
          - returnConditionsDistribution
          - returnChannel
      - $ref: '#/parameters/Resolution'
      - in: query
        name: timezone
        type: string
        description: Timezone of the reporting in the format of the IANA timezone. See https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for more information.
      - in: query
        name: filters
        type: string
        format: json
        description: |
          Filter string. Available filters: date.
          The date filter is mandatory and has to be located under a first-level $and query.
          Use filter types $lte and $gte to filter for a start or end date respectively.
          The date can be the date without the timezone like "2020-01-01", in which case the start/end date based on
          the resolution and timezone passed as query parameters will be used.
          In the case of a full date-time string like "2020-01-01T00:00:00+01:00" that will override the timezone
          parameter passed in the query.
          If only the start date ($gte) was passed, the end date will be set to the end of the start date's day.
          If only the end date ($lte) was passed, the start date will be set to the beginning of the end date's day.
          Examples:
          `{"$and":[{"date":{"$gte":"2021-04-16T00:00:00Z"}}]}` - results in a search starting at 2021-04-16T00:00:01Z
          and ending 2021-04-16T23:59:59Z.
          `{"$and":[{"date":{"$lte":"2021-04-16T23:59:59Z"}}]}` - is equivalent to the above search
    get:
      operationId: getReturnInStore
      summary: Get return in store reporting
      description: Get return in store reporting
      x-internal: true
      tags:
        - Analytics
      responses:
        200:
          description: 'Return in store reporting'
          schema:
            type: object
            properties:
              reportingData:
                type: array
                items:
                  $ref: '#/definitions/ReportingMetric'
  /merchants/{merchantCode}/analytics/returnInStore/{reportType}/exportCsv:
    parameters:
      - $ref: '#/parameters/MerchantCode'
      - in: path
        name: reportType
        type: string
        required: true
        enum:
          - returns
      - in: query
        name: timezone
        type: string
        description: Timezone of the reporting in the format of the IANA timezone. See https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for more information.
      - in: query
        name: filters
        type: string
        format: json
        description: |
          Filters as JSON string to be applied. Available filters are `orderNumber`, `externalCode`, `salesOrderNumber`,
          `name`, `status`, `fulfillmentMethod`, `dropOffLocationCode`, `date`.
    get:
      operationId: getReturnInStoreCsvExport
      summary: Get an analytics export of metrics in the CSV format.
      x-internal: true
      tags:
        - Analytics
      produces:
        - text/csv
      responses:
        200:
          description: Returns a CSV file with the requested analytics data for ROs and the selected report type.
          schema:
            type: string
parameters:
  LocationCode:
    name: locationCode
    in: path
    type: string
    required: true
  MerchantCode:
    name: merchantCode
    description: Unique merchant code which represents the unique "merchant account".
    in: path
    type: string
    required: true
  OrderNumber:
    name: orderNumber
    description: Unique order number
    in: path
    type: string
    required: true
  Interval:
    name: interval
    description: Represents timeline group / summary to return
    enum:
      - today
      - yesterday
      - month
    in: path
    type: string
    required: true
  filters:
    name: filters
    description: 'url encoded json object {locationCode: "LOCATION123"}'
    in: query
    type: string
  Timezone:
    name: timezone
    in: query
    type: string
    description: Timezone of the reporting in the format of the IANA timezone. See https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for more information.
    default: Etc/UTC
  Resolution:
    name: resolution
    in: query
    description: Desired group or summary to return results in
    default: day
    type: string
    enum:
      - day
      - week
      - month
      - quarter
  Sort:
    description: sorting of orders
    in: query
    name: sort
    type: string
    default: ''
  offset:
    name: offset
    in: query
    description: offset for pagination, default is 0
    required: false
    type: integer
    format: int32
    minimum: 0
    default: 0
  limit:
    name: limit
    in: query
    description: items per page, for pagination, default is 10, max is 100
    required: false
    type: integer
    format: int32
    default: 100
    maximum: 100
    minimum: 0
  OriginalImages:
    name: getOriginalImageUrls
    in: query
    type: boolean
    default: true
  ReturnReasonCode:
    name: returnReasonCode
    description: Unique return reason code value.
    in: path
    type: string
    required: true
  ConditionCode:
    name: productConditionCode
    in: path
    type: string
    required: true
definitions:
  QuantityChangeReason:
    type: string
    description: |
      Reason for a quantity change. Needs to be set if a new quantity is set.
      Deprecated reasons:
        * wrongAttribute
        * wrongProduct
        * changedMind
        * brokenOrDamaged
        * outOfStock
    enum:
      - wrongItem
      - wrongProduct
      - wrongAttribute
      - wrongQuantity
      - changedMind
      - customerCanceled
      - brokenOrDamaged
      - itemDamaged
      - outOfStock
      - outdatedStockInfo
      - unavailable
      - substituted
      - other
  GetOrders:
    type: array
    items:
      $ref: '#/definitions/GetOrders'
  SOStatus:
    type: string
    enum:
      - new
      - open
      - rejected
      - canceled
      - ready
      - fulfilled
      - completed
      - inProgress
  SOLineItemStatus:
    type: string
    enum:
      - open
      - inProgress
      - rejected
      - canceled
      - fulfilled
    example: inProgress
  SOLineItemSubStatus:
    type: ["string", "null"]
    enum:
      - replaced
      - substituted
    example: null
  LineItemStatus:
    type: string
    example: new
    enum:
      - new
      - requested
      - accepted
      - rejected
      - canceled
      - picked
      - packed
      - ready
      - hold
      - fulfilled
  AddressAdditionalFields:
    type: object
    properties:
      dhlPostBoxNumber:
        type: [string, 'null']
        minLength: 1
        maxLength: 5
        description: number of a postbox
      dhlPostNumber:
        type: [string, 'null']
        minLength: 1
        maxLength: 10
        description: number of a post
  SimpleSalesOrder:
    type: object
    properties:
      orderNumber:
        type: string
        description: Number of the Order. Its need to be unique in the system
        example: 1293747
      shopCode:
        $ref: '#/definitions/ShopCode'
      externalCode:
        $ref: '#/definitions/ExternalCode'
      type:
        $ref: '#/definitions/SalesOrderType'
      customerId:
        type: string
        example: '55c98b8e-1100-497c-8df6-4b4f0353ab2a'
        description: 'Customer identifier'
      externalCustomerNumber:
        $ref: '#/definitions/ExternalCustomerNumber'
      status:
        $ref: '#/definitions/SOStatus'
      expedited:
        type: boolean
        description: Indicates if the order needs to be threated expediently
        example: false
      localeCode:
        $ref: '#/definitions/LocaleCode'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      taxExempt:
        type: boolean
      notes:
        $ref: '#/definitions/Notes'
      specialInstructions:
        $ref: '#/definitions/SpecialInstructions'
      data:
        type: object
      fulfillmentStatus:
        type: string
        enum:
          - open
          - inProgress
          - completed
          - actionRequired
      primaryBillToAddressSequenceIndex:
        type: number
        description: Position in the AddressSequences-Array, mandatory for all fulfillment methods that include billing like directShip and BOPIS
      primaryShipToAddressSequenceIndex:
        type: number
        description: Position in the AddressSequences-Array, mandatory for all fulfillment methods that include shipping like directShip
      addressSequences:
        type: array
        items:
          $ref: '#/definitions/AddressSequence'
      subTotal:
        type: number
        description: Subtotal of the order
        format: float
      discountAmount:
        $ref: '#/definitions/OrderDiscountAmount'
      promoAmount:
        type: number
        format: float
        default: 0
      taxAmount:
        $ref: '#/definitions/TaxAmount'
      tax2Amount:
        $ref: '#/definitions/Tax2Amount'
      shippingSubTotal:
        type: number
        format: float
        description: Shipping total without any discounts. Its based on the line items in the order
      shippingDiscountAmount:
        type: number
        format: float
        description: Sum of discounts applied to the shipping total
      shippingPromoAmount:
        type: number
        format: float
      shippingTotal:
        type: number
        format: float
        description: Shipping total including all discounts
      taxSummary:
        $ref: '#/definitions/TaxSummary'
      total:
        type: number
        format: float
        description: Total sum of the order including tax, shipping and discounts
      date:
        $ref: '#/definitions/CreateDate'
      submitDate:
        $ref: '#/definitions/SubmitDate'
      fulfillDate:
        $ref: '#/definitions/FulfillDate'
      completeDate:
        $ref: '#/definitions/CompleteDate'
      sourceIp:
        $ref: '#/definitions/SourceIP'
      userAgent:
        $ref: '#/definitions/UserAgent'
      domain:
        $ref: '#/definitions/Domain'
      platform:
        $ref: '#/definitions/Platform'
      os:
        $ref: '#/definitions/OS'
      imported:
        $ref: '#/definitions/Imported'
      campaignAttribution:
        $ref: '#/definitions/CampaignAttribution'
      lineItemCount:
        type: number
  SalesOrder:
    allOf:
      - $ref: '#/definitions/SimpleSalesOrder'
      - type: object
        properties:
          lineItems:
            type: array
            items:
              type: object
              properties:
                id:
                  type: number
                  description: Line Item id of the item to update. In case of an insert this field is not required
                  example: 10
                status:
                  $ref: '#/definitions/LineItemStatus'
                quantity:
                  type: number
                  minimum: 0
                  example: 5
                returnQuantity:
                  type: number
                  minimum: 0
                  example: 1
                quantityChangeReason:
                  $ref: '#/definitions/QuantityChangeReason'
                product:
                  type: object
                  properties:
                    code:
                      type: string
                      example: 24-MB02
  GetSalesOrder:
    allOf:
      - $ref: '#/definitions/SimpleSalesOrder'
      - type: object
        properties:
          paymentTransactions:
            type: array
            items:
              $ref: '#/definitions/PaymentTransaction'
          fulfillmentGroups:
            type: array
            items:
              $ref: '#/definitions/FulfillmentGroup'
          coupons:
            type: array
            description:
              Coupon of the order. If the order is in the status new only the code needs to be passed
              For all other status the whole object should to be filled out with to have all information of the coupons persist for transparency purposes.
            items:
              $ref: '#/definitions/PostCoupon'
          lineItems:
            type: array
            items:
              $ref: '#/definitions/LineItem'
          appliedPromotions:
            $ref: '#/definitions/AppliedPromotions'
          fulfillmentSlots:
            type: array
            description: Selected fulfillment slots of the selected locations. You can only select on slot per location
            items:
              $ref: '#/definitions/FulfillmentSlot'
            example:
              id: "5_2019-09-03"
              date: "2019-09-03"
              weekday: fri
              from: 08:00
              to: 08:59
              status: active
              orderCount: 10
          customer:
            $ref: 'https://s3.eu-central-1.amazonaws.com/shopgatedevcloud-bigapi/swagger-docs/omni/customer-crud.yaml#/definitions/Customer'
            description: Customer of the order. This property only exists if 'customer' is passed in the field query parameter.
          returnStatus:
            type: [ "string", "null" ]
            enum:
              - partialReturn
              - returned
          isOrderable:
            type: boolean
            description: Indicates if this order is orderable. Its used for the checkout. This property only exists if 'isOrderable' is passed in the field query parameter.
  PostSalesOrder:
    type: object
    additionalProperties: false
    required:
      - submitDate
      - subTotal
      - total
      - currencyCode
      - localeCode
      - lineItems
      - primaryBillToAddressSequenceIndex
      - addressSequences
      - customerId
    properties:
      externalCode:
        $ref: '#/definitions/ExternalCode'
      shopCode:
        $ref: '#/definitions/ShopCode'
      type:
        $ref: '#/definitions/SalesOrderType'
      customerId:
        type: string
        example: '55c98b8e-1100-497c-8df6-4b4f0353ab2a'
        description: 'Customer identifier'
      externalCustomerNumber:
        $ref: '#/definitions/ExternalCustomerNumber'
      localeCode:
        $ref: '#/definitions/LocaleCodeNormalized'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      status:
        $ref: '#/definitions/SOStatus'
      taxExempt:
        type: boolean
        default: false
      expedited:
        type: boolean
        description: Indicates if the order needs to be threated expediently
        example: false
      notes:
        $ref: '#/definitions/Notes'
      specialInstructions:
        $ref: '#/definitions/SpecialInstructions'
      data:
        type: ["object", "null"]
      addressSequences:
        type: array
        items:
          $ref: '#/definitions/SetAddressSequence'
      primaryBillToAddressSequenceIndex:
        type: number
        description: Position in the AddressSequences-Array, mandatory for all fulfillment methods that include billing like directShip and BOPIS
      primaryShipToAddressSequenceIndex:
        type: number
        description: Position in the AddressSequences-Array, mandatory for all fulfillment methods that include shipping like directShip
      coupons:
        type: array
        description:
          Coupon of the order. If the order is in the status new only the code needs to be passed
          For all other status the whole object should to be filled out with to have all information of the coupons persist for transparency purposes.
        items:
          $ref: '#/definitions/PostCoupon'
      appliedPromotions:
        $ref: '#/definitions/AppliedPromotions'
      lineItems:
        type: array
        minItems: 1
        items:
          $ref: '#/definitions/PostSOLineItem'
      subTotal:
        type: number
        format: float
        description: |
          The subtotal of the order (Formula: Sum of all lineItem.extendedPrice)
        example: 65.98
      discountAmount:
        $ref: '#/definitions/OrderDiscountAmount'
      promoAmount:
        $ref: '#/definitions/OrderPromoAmount'
      shippingSubTotal:
        type: number
        format: float
        description: The original shipping costs, without any discounts or promotions
        example: 3.99
      shippingDiscountAmount:
        type: number
        format: float
        description: Discounts on the shipping costs because of a couppon
        example: 0
      shippingPromoAmount:
        type: number
        format: float
        description: Discounts on the shipping costs because of an (automatically applied) promotion
        example: -2
      shippingTotal:
        type: number
        format: float
        description: |
          The final shipping costs including shippingDiscountAmount & shippingPromoAmount (Formula: shippingSubTotal + shippingDiscountAmount + shippingPromoAmount)
        example: 1.99
      taxAmount:
        $ref: '#/definitions/TaxAmount'
      tax2Amount:
        $ref: '#/definitions/Tax2Amount'
      taxSummary:
        $ref: '#/definitions/TaxSummary'
      total:
        type: number
        format: float
        description: The final price of the order that the shopper has to pay, including all promotions, discounts, shipping costs etc.
        example: 64.97
      submitDate:
        $ref: '#/definitions/SubmitDate'
      fulfillDate:
        $ref: '#/definitions/FulfillDate'
      completeDate:
        $ref: '#/definitions/CompleteDate'
      sourceIp:
        $ref: '#/definitions/SourceIP'
      userAgent:
        $ref: '#/definitions/UserAgent'
      domain:
        $ref: '#/definitions/Domain'
      platform:
        $ref: '#/definitions/Platform'
      os:
        $ref: '#/definitions/OS'
      imported:
        $ref: '#/definitions/Imported'
      campaignAttribution:
        $ref: '#/definitions/CampaignAttribution'
  UpdateSalesOrder:
      type: object
      additionalProperties: false
      properties:
        externalCode:
          $ref: '#/definitions/ExternalCode'
        notes:
          $ref: '#/definitions/Notes'
        lineItems:
          type: array
          items:
            $ref: '#/definitions/UpdateSOLineItem'
        specialInstructions:
          $ref: '#/definitions/SpecialInstructions'
        data:
          type: ["object", "null"]
          example:
            collectedLoyaltyPoints: 10
        fulfillmentStatus:
          type: string
          enum:
            - open
            - inProgress
            - completed
            - actionRequired
        addressSequences:
          type: array
          description: If the array is set it will replace all addresses
          items:
            $ref: '#/definitions/UpdateAddressSequence'
          example:
            - type: pickup
              firstName: Max
              middleName: null
              lastName: Muster
              mobile: +49 12345 6789 003
              emailAddress: max.muster@shopgate.com
            - type: billing
              customerContactId: 0b475af4-7ed9-4065-b4bb-7d76c537d820
            - type: shipping
              firstName: Max
              middleName: null
              lastName: Muster
              company: Awesome Company Inc
              address1: 1234 Main Street
              city: Butzbach
              region: HE
              postalCode: '35510'
              country: DE
              mobile: +49 12345 6789 003
              emailAddress: max.muster@shopgate.com
              orderSegment:
                selectedShippingMethod:
                  code: express
                  serviceLevel:
                    code: express
                    carrier:
                      code: DHL
        paymentTransactions:
          type: array
          items:
            type: object
            properties:
              externalCode:
                $ref: '#/definitions/PaymentTransactionCode'
              paymentMethod:
                type: object
                properties:
                  code:
                    type: string
                    example: stripe
              authorizedAmount:
                $ref: '#/definitions/AuthorizedAmount'
        primaryBillToAddressSequenceIndex:
          type: number
          description: Position in the AddressSequences-Array, mandatory for all fulfillment methods that include billing like directShip and BOPIS
          example: 0
        primaryShipToAddressSequenceIndex:
          type: number
          description: Position in the AddressSequences-Array, mandatory for all fulfillment methods that include shipping like directShip
          example: 1
        status:
          $ref: '#/definitions/SOStatus'
        sourceIp:
          $ref: '#/definitions/SourceIP'
        userAgent:
          $ref: '#/definitions/UserAgent'
        domain:
          $ref: '#/definitions/Domain'
        platform:
          $ref: '#/definitions/Platform'
        os:
          $ref: '#/definitions/OS'
        subTotal:
          type: number
          format: float
        discountAmount:
          $ref: '#/definitions/OrderDiscountAmount'
        promoAmount:
          $ref: '#/definitions/OrderPromoAmount'
        shippingSubTotal:
          type: number
          format: float
        shippingDiscountAmount:
          type: number
          format: float
        shippingPromoAmount:
          type: number
          format: float
        shippingTotal:
          type: number
          format: float
        taxAmount:
          $ref: '#/definitions/TaxAmount'
        tax2Amount:
          $ref: '#/definitions/Tax2Amount'
        taxSummary:
          $ref: '#/definitions/TaxSummary'
        total:
          type: number
          format: float
        customer:
          type: object
          description: Updates the given attribute for the newly created anonymous customer
          additionalProperties: false
          properties:
            attributes:
              type: array
              items:
                type: object
                additionalProperties: false
                required:
                  - code
                description: Custom customer attribute
                properties:
                  code:
                    type: string
                    description: Code of the defined customer attribute
                    example: tshirtSize
                  value:
                    description: 'Value for this attribute. Its a free text field for attributes where no values are set. Attributes which have value set should contains the code in an object. For instance `value: { "code": "fish" }`'
                    example: L
  PostFulfillmentOrder:
    required:
      - salesOrderNumber
      - currencyCode
      - localeCode
      - locationCode
      - customerId
      - routeType
      - type
      - lineItems
      - subTotal
      - total
    type: object
    properties:
      orderNumber:
        $ref: '#/definitions/FOOrderNumber'
      externalCode:
        $ref: '#/definitions/ExternalCode'
      salesOrderNumber:
        type: string
        example: "1293747"
      locationCode:
        type: string
        description: Location code which should fulfill the order
        example: DERetail001
      customerId:
        type: string
        example: '55c98b8e-1100-497c-8df6-4b4f0353ab2a'
        description: 'Customer identifier'
      externalCustomerNumber:
        $ref: '#/definitions/ExternalCustomerNumber'
      channel:
        type: object
        required:
          - code
        properties:
          code:
            type: string
            example: USRTL
      type:
        $ref: '#/definitions/FulfillmentOrderType'
      routeType:
        $ref: '#/definitions/RouteType'
      status:
        $ref: '#/definitions/FulfillmentOrderStatus'
      sequenceId:
        type: integer
        description: If not provided it will automatically be set to the highest so far incremented by 1.
      expedited:
        type: boolean
      subTotal:
        type: number
        format: float
        default: 0
      taxAmount:
        $ref: '#/definitions/TaxAmount'
      tax2Amount:
        $ref: '#/definitions/Tax2Amount'
      shippingTotal:
        type: number
        format: float
      total:
        type: number
        format: float
      localeCode:
        $ref: '#/definitions/LocaleCode'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      notes:
        $ref: '#/definitions/Notes'
      specialInstructions:
        $ref: '#/definitions/SpecialInstructions'
      fulfillmentOrderAddress:
        $ref: '#/definitions/FulfillmentOrderAddress'
      fulfillments:
        type: array
        items:
          $ref: '#/definitions/CreateFulfillment'
      lineItems:
        type: array
        minItems: 1
        items:
          $ref: '#/definitions/PostFOLineItem'
      fulfillmentSlot:
        $ref: '#/definitions/FulfillmentSlot'
        example:
            id: "5_2019-09-03"
            date: "2019-09-03"
            weekday: fri
            from: 08:00
            to: 08:59
            status: active
            orderCount: 10
      submitDate:
        $ref: '#/definitions/SubmitDate'
      acceptDate:
        $ref: '#/definitions/AcceptDate'
      readyDate:
        $ref: '#/definitions/ReadyDate'
      completeDate:
        $ref: '#/definitions/CompleteDate'
  PostSimplifiedFulfillmentOrder:
    required:
    - fulfillmentMethod
    - fulfillmentLocationCode
    - lineItems
    additionalProperties: false
    type: object
    properties:
      fulfillmentMethod:
        type: string
      fulfillmentLocationCode:
        type: string
        example: locationCode
      lineItems:
        type: array
        items:
          required:
          - quantity
          - salesOrderLineItemCode
          type: object
          properties:
            salesOrderLineItemCode:
              type: string
              example: salesOrderLineItemCode
            quantity:
              type: number
              minimum: 1
  FulfillmentOrder:
    type: object
    properties:
      orderNumber:
        $ref: '#/definitions/FOOrderNumber'
      externalCode:
        $ref: '#/definitions/ExternalCode'
      posTransactionId:
        $ref: '#/definitions/PosTransactionId'
      cancellationReason:
        $ref: '#/definitions/CancellationReason'
      heldUntil:
        $ref: '#/definitions/HeldUntil'
      pickupReminderApplicableAt:
        $ref: '#/definitions/PickupReminderApplicableAt'
      salesOrderNumber:
        type: string
        example: "1293747"
      locationCode:
        type: string
        description: Location code which should fulfill the order
        example: DERetail001
      type:
        $ref: '#/definitions/FulfillmentOrderType'
      customerId:
        type: string
        example: '55c98b8e-1100-497c-8df6-4b4f0353ab2a'
        description: 'Customer identifier'
      externalCustomerNumber:
        $ref: '#/definitions/ExternalCustomerNumber'
      routeType:
        $ref: '#/definitions/RouteType'
      expedited:
        type: boolean
      status:
        $ref: '#/definitions/FulfillmentOrderStatus'
      channel:
        type: object
        properties:
          code:
            type: string
            example: USRTL
          name:
            type: string
            example: US Retail
      subTotal:
        type: number
        format: float
      taxAmount:
        $ref: '#/definitions/TaxAmount'
      tax2Amount:
        $ref: '#/definitions/Tax2Amount'
      total:
        type: number
        format: float
      shippingTotal:
        type: number
        format: float
      localeCode:
        $ref: '#/definitions/LocaleCode'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      notes:
        $ref: '#/definitions/Notes'
      specialInstructions:
        $ref: '#/definitions/SpecialInstructions'
      fulfillmentOrderAddress:
        $ref: '#/definitions/FulfillmentOrderAddress'
      fulfillments:
        type: array
        items:
          $ref: '#/definitions/Fulfillment'
      lineItems:
        type: array
        items:
          $ref: '#/definitions/FOLineItem'
      fulfillmentSlot:
        $ref: '#/definitions/FulfillmentSlot'
      submitDate:
        $ref: '#/definitions/SubmitDate'
      acceptDate:
        $ref: '#/definitions/AcceptDate'
      readyDate:
        $ref: '#/definitions/ReadyDate'
      plannedFulfillmentDate:
        $ref: '#/definitions/PlannedFulfillmentDate'
      completeDate:
        $ref: '#/definitions/CompleteDate'
      pickingBatchId:
        type: ["string", "null"]
        example: 10-0001
        description: Indicates wether this FO is part of an active picking batch
      salesOrder:
        $ref: '#/definitions/SimpleSalesOrder'
  PostFulfillmentOrderStatus:
    required:
      - orderNumber
      - status
    type: object
    properties:
      orderNumber:
        $ref: '#/definitions/FOOrderNumber'
      status:
        $ref: '#/definitions/FulfillmentOrderStatus'
  SimpleFulfillmentOrder:
    type: object
    properties:
      orderNumber:
        $ref: '#/definitions/FOOrderNumber'
      externalCode:
        $ref: '#/definitions/ExternalCode'
      posTransactionId:
        $ref: '#/definitions/PosTransactionId'
      cancellationReason:
        $ref: '#/definitions/CancellationReason'
      heldUntil:
        $ref: '#/definitions/HeldUntil'
      pickupReminderApplicableAt:
        $ref: '#/definitions/PickupReminderApplicableAt'
      salesOrderNumber:
        type: string
        example: "1293747"
      locationCode:
        type: string
        description: Location code which should fulfill the order
        example: DERetail001
      type:
        $ref: '#/definitions/FulfillmentOrderType'
      customerId:
        type: string
        example: '55c98b8e-1100-497c-8df6-4b4f0353ab2a'
        description: 'Customer identifier'
      externalCustomerNumber:
        $ref: '#/definitions/ExternalCustomerNumber'
      routeType:
        $ref: '#/definitions/RouteType'
      expedited:
        type: boolean
      status:
        $ref: '#/definitions/FulfillmentOrderStatus'
      subTotal:
        type: number
        format: float
      taxAmount:
        $ref: '#/definitions/TaxAmount'
      tax2Amount:
        $ref: '#/definitions/Tax2Amount'
      total:
        type: number
        format: float
      shippingTotal:
        type: number
        format: float
      localeCode:
        $ref: '#/definitions/LocaleCode'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      notes:
        $ref: '#/definitions/Notes'
      specialInstructions:
        $ref: '#/definitions/SpecialInstructions'
      scheduledPickupTime:
        type: string
        format: string
        example: "2019-09-03T08:00:00Z"
      submitDate:
        $ref: '#/definitions/SubmitDate'
      acceptDate:
        $ref: '#/definitions/AcceptDate'
      readyDate:
        $ref: '#/definitions/ReadyDate'
      completeDate:
        $ref: '#/definitions/CompleteDate'
      fulfillmentOrderAddress:
        $ref: '#/definitions/FulfillmentOrderAddress'
      salesOrder:
        $ref: '#/definitions/SimpleSalesOrder'
      lineItems:
        type: array
        items:
          $ref: '#/definitions/FOLineItem'
      fulfillments:
        type: array
        items:
          $ref: '#/definitions/Fulfillment'
  PostReturnOrder:
    required:
      - salesOrderNumber
      - customerId
      - lineItems
      - dropOffType
    type: object
    properties:
      externalCode:
        $ref: '#/definitions/ExternalCode'
      salesOrderNumber:
        type: string
        example: "1293747"
      type:
        $ref: '#/definitions/ReturnOrderType'
      customerId:
        type: string
        example: '55c98b8e-1100-497c-8df6-4b4f0353ab2a'
        description: 'Customer identifier'
      externalCustomerNumber:
        type: ['string', 'null']
        example: 'C1756793'
        description: 'A customer number / reference to an external system.'
      status:
        $ref: '#/definitions/ReturnOrderStatus'
      expedited:
        type: boolean
      localeCode:
        $ref: '#/definitions/LocaleCode'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      notes:
        $ref: '#/definitions/Notes'
      specialInstructions:
        $ref: '#/definitions/SpecialInstructions'
      data:
        type: object
      primaryBillToAddressSequenceIndex:
        type: number
      primaryShipToAddressSequenceIndex:
        type: number
      addressSequences:
        type: array
        items:
          $ref: '#/definitions/PostROAddressSequence'
      subTotal:
        type: number
        format: float
        default: 0
      discountAmount:
        $ref: '#/definitions/OrderDiscountAmount'
      promoAmount:
        $ref: '#/definitions/OrderPromoAmount'
      taxAmount:
        $ref: '#/definitions/TaxAmount'
      tax2Amount:
        $ref: '#/definitions/Tax2Amount'
      shippingSubTotal:
        type: number
        format: float
      shippingDiscountAmount:
        type: number
        format: float
      shippingPromoAmount:
        type: number
        format: float
      shippingTotal:
        type: number
        format: float
      taxExempt:
        type: boolean
      taxSummary:
        $ref: '#/definitions/TaxSummary'
      total:
        type: number
        format: float
      submitDate:
        $ref: '#/definitions/SubmitDate'
      completeDate:
        $ref: '#/definitions/CompleteDate'
      dropOffType:
        $ref: '#/definitions/DropOffType'
      dropOffLocationCode:
        type: string
        description: Location where the order is returned
        example: DERetail001
      os:
        $ref: '#/definitions/OS'
      imported:
        $ref: '#/definitions/Imported'
      lineItems:
        type: array
        minItems: 1
        items:
          $ref: '#/definitions/PostROLineItem'
  UpdateReturnOrder:
    additionalProperties: false
    type: object
    properties:
      status:
        $ref: '#/definitions/ReturnOrderStatus'
      notes:
        $ref: '#/definitions/Notes'
      dropOffType:
        $ref: '#/definitions/DropOffType'
      dropOffLocationCode:
        type: string
        description: Location where the order is returned
        example: DERetail001
      lineItems:
        type: array
        items:
          type: object
          properties:
            code:
              type: string
              example: "R386"
            status:
              $ref: '#/definitions/ROLineItemStatus'
  ReturnOrder:
    type: object
    properties:
      orderNumber:
        type: string
        example: "R1293747"
      externalCode:
        $ref: '#/definitions/ExternalCode'
      salesOrderNumber:
        type: string
        example: "1293747"
      type:
        $ref: '#/definitions/ReturnOrderType'
      customerId:
        type: string
        example: '55c98b8e-1100-497c-8df6-4b4f0353ab2a'
        description: 'Customer identifier'
      externalCustomerNumber:
        $ref: '#/definitions/ExternalCustomerNumber'
      status:
        $ref: '#/definitions/ReturnOrderStatus'
      expedited:
        type: boolean
      localeCode:
        $ref: '#/definitions/LocaleCode'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      notes:
        $ref: '#/definitions/Notes'
      specialInstructions:
        $ref: '#/definitions/SpecialInstructions'
      data:
        type: object
      primaryBillToAddressSequenceIndex:
        type: number
      primaryShipToAddressSequenceIndex:
        type: number
      addressSequences:
        type: array
        items:
          $ref: '#/definitions/ROAddressSequence'
      subTotal:
        type: number
        format: float
        description: |
          The subtotal of the order (Formula: Sum of all lineItem.extendedPrice)
        example: 65.98
      discountAmount:
        $ref: '#/definitions/OrderDiscountAmount'
      promoAmount:
        $ref: '#/definitions/OrderPromoAmount'
      taxAmount:
        $ref: '#/definitions/TaxAmount'
      tax2Amount:
        $ref: '#/definitions/Tax2Amount'
      shippingSubTotal:
        type: number
        format: float
      shippingDiscountAmount:
        type: number
        format: float
      shippingPromoAmount:
        type: number
        format: float
      shippingTotal:
        type: number
        format: float
      taxExempt:
        type: boolean
      taxSummary:
        $ref: '#/definitions/TaxSummary'
      total:
        type: number
        format: float
        description: The final price of the return order, including all promotions, discounts, shipping costs etc.
      date:
        $ref: '#/definitions/CreateDate'
      submitDate:
        $ref: '#/definitions/SubmitDate'
      completeDate:
        $ref: '#/definitions/CompleteDate'
      dropOffType:
        $ref: '#/definitions/DropOffType'
      dropOffLocationCode:
        type: string
        description: Location where the order is returned
        example: DERetail001
      os:
        $ref: '#/definitions/OS'
      imported:
        $ref: '#/definitions/Imported'
      paymentTransactions:
        type: array
        items:
          $ref: '#/definitions/PaymentTransaction'
      lineItems:
        type: array
        items:
          $ref: '#/definitions/ROLineItem'
  HistoryItem:
    type: object
    properties:
      id:
        type: number
        example: 468
      details:
        type: string
      entityId:
        type: number
        description: Id of the subentity which the history entry belongs to
      newValue:
        type: object
        example:
          status: checkedIn
      oldValue:
        type: object
        example:
          status: ready
      createDate:
        type: string
        format: date-time
      user:
        type: object
        properties:
          name:
            type: string
            example: "Max Muster"
          id:
            type: string
            example: 237e228f-c1d0-4bb7-898d-14a5aa1ea955
  FulfillmentSlot:
    type: ["null","object"]
    properties:
      id:
        type: string
        description: Id of the fulfillment slot
        example: "5_2019-09-03"
      date:
        type: string
        format: date
      weekday:
        type: string
        enum:
          - sun
          - mon
          - tue
          - wed
          - thu
          - fri
          - sat
      from:
        type: string
        description: Hour and minute of the day where the time should start
        example: 08:00
      to:
        type: string
        example: 08:59
      status:
        type: string
        enum:
          - active
          - busy
          - inactive
      orderLimit:
        type: ["number", "null"]
        description: Limit of orders which can be placed in this slot.
          This value can only be set for the type fulfillmentSlot
        example: 20
    example:
      id: "5_2019-09-03"
      date: "2019-09-03"
      weekday: fri
      from: 08:00
      to: 08:59
      status: active
      orderCount: 10
  SalesOrderHistoryItem:
    allOf:
      - type: object
        properties:
          type:
            type: string
            enum:
              - orderCreated
              - orderStatusUpdated
              - orderLineItemQuantityChanged
              - orderCommentAdded
              - orderCommentUpdated
              - orderCommentDeleted
            example: orderStatusUpdated
      - $ref: '#/definitions/HistoryItem'
  FulfillmentOrderHistoryItem:
    allOf:
      - type: object
        properties:
          type:
            type: string
            enum:
              - fulfillmentOrderCreated
              - fulfillmentOrderUpdated
              - fulfillmentOrderStatusUpdated
              - fulfillmentOrderConvertedToSOFulfillment
              - fulfillmentOrderLineItemQuantityChanged
              - fulfillmentOrderCommentAdded
              - fulfillmentOrderCommentUpdated
              - fulfillmentOrderCommentDeleted
              - fulfillmentOrderFulfillmentAdded
            example: fulfillmentOrderStatusUpdated
      - $ref: '#/definitions/HistoryItem'
  SetAddressSequence:
    type: object
    required:
      - type
      - firstName
      - lastName
      - emailAddress
    properties:
      type:
        type: string
        enum:
          - pickup
          - shipping
          - billing
      customerContactId:
        type: ["string", "null"]
        example: 0b475af4-7ed9-4065-b4bb-7d76c537d820
      firstName:
        type: string
        example: Max
      middleName:
        type: ["string", "null"]
        example: René
      lastName:
        type: string
        example: Muster
      company:
        type: ["string", "null"]
        example: 'Shopgate GmbH'
      address1:
        type: ["string", "null"]
        example: Schloßstr. 10
        description: This field is required if used as shipping address for direct ship
      address2:
        type: ["string", "null"]
        example: Haus B
      address3:
        type: ["string", "null"]
        example: erste Etage
      address4:
        type: ["string", "null"]
        example: null
      city:
        type: ["string", "null"]
        example: Butzbach
        description: This field is required if used as shipping address for direct ship
      region:
        type: ["string", "null"]
        example: HE
      postalCode:
        type: ["string", "null"]
        example: '"35510"'
        description: This field is required if used as shipping address for direct ship
      country:
        type: ["string", "null"]
        example: DE
        description: ISO 3166 ALPHA-2 / ISO 3166-2 Country Code. This field is required if used as shipping address for direct ship
        # minLength: 2
        maxLength: 2
      additionalFields:
        type: object
        $ref: '#/definitions/AddressAdditionalFields'
      phone:
        type: ["string", "null"]
        example: +49 12345 6789 001
        description: Validated according to country code
      fax:
        type: ["string", "null"]
        example: +49 12345 6789 002
        description: Validated according to country code
      mobile:
        type: ["string", "null"]
        example: +49 12345 6789 003
        description: Validated according to country code
      emailAddress:
        type: string
        format: email
        example: max.muster@shopgate.com
      orderSegment:
        type: object
        properties:
          selectedShippingMethod:
            $ref: '#/definitions/SetSelectedShippingMethod'
  UpdateAddressSequence:
    type: object
    required:
      - type
    properties:
      type:
        type: string
        enum:
          - pickup
          - shipping
          - billing
      customerContactId:
        type: ["string", "null"]
        description: '"addressSequences" must include either a "customerContactId" or all of "firstName", "lastName" and "emailAddress"'
        example: 0b475af4-7ed9-4065-b4bb-7d76c537d820
      firstName:
        type: ["string", "null"]
        description: '"addressSequences" must include either a "customerContactId" or all of "firstName", "lastName" and "emailAddress"'
        example: Max
      middleName:
        type: ["string", "null"]
        example: René
      lastName:
        type: ["string", "null"]
        description: '"addressSequences" must include either a "customerContactId" or all of "firstName", "lastName" and "emailAddress"'
        example: Muster
      company:
        type: ["string", "null"]
        example: 'Shopgate GmbH'
      address1:
        type: ["string", "null"]
        example: Schloßstr. 10
      address2:
        type: ["string", "null"]
        example: Haus B
      address3:
        type: ["string", "null"]
        example: erste Etage
      address4:
        type: ["string", "null"]
        example: null
      city:
        type: ["string", "null"]
        example: Butzbach
      region:
        type: ["string", "null"]
        example: HE
      postalCode:
        type: ["string", "null"]
        example: '"35510"'
      country:
        type: ["string", "null"]
        example: DE
        description: ISO 3166 ALPHA-2 / ISO 3166-2 Country Code
        # minLength: 2
        maxLength: 2
      additionalFields:
        type: object
        $ref: '#/definitions/AddressAdditionalFields'
      phone:
        type: ["string", "null"]
        example: +49 12345 6789 001
        description: Validated according to country code
      fax:
        type: ["string", "null"]
        example: +49 12345 6789 002
        description: Validated according to country code
      mobile:
        type: ["string", "null"]
        example: +49 12345 6789 003
        description: Validated according to country code
      emailAddress:
        type: ["string", "null"]
        description: '"addressSequences" must include either a "customerContactId" or all of "firstName", "lastName" and "emailAddress"'
        format: email
        example: max.muster@shopgate.com
      orderSegment:
        type: object
        properties:
          selectedShippingMethod:
            $ref: '#/definitions/SetSelectedShippingMethod'
  AddressSequence:
    type: object
    properties:
      type:
        type: string
        enum:
          - pickup
          - shipping
          - billing
      customerContactId:
        type: [ "string", "null" ]
        example: 0b475af4-7ed9-4065-b4bb-7d76c537d820
      firstName:
        type: string
        example: Max
      middleName:
        type: [ "string", "null" ]
        example: René
      lastName:
        type: string
        example: Doe
      companyName:
        type: [ "string", "null" ]
        example: 'Shopgate GmbH'
      address1:
        type: [ "string", "null" ]
        example: Schloßstr. 10
      address2:
        type: [ "string", "null" ]
      address3:
        type: [ "string", "null" ]
      address4:
        type: [ "string", "null" ]
      city:
        type: [ "string", "null" ]
        example: Butzbach
      region:
        type: [ "string", "null" ]
        example: HE
      postalCode:
        type: [ "string", "null" ]
        example: "35510"
      country:
        type: [ "string", "null" ]
        example: DE
        description: ISO 3166 ALPHA-2 / ISO 3166-2 Country Code
        # minLength: 2
        maxLength: 2
      additionalFields:
        type: object
        $ref: '#/definitions/AddressAdditionalFields'
      phone:
        type: [ "string", "null" ]
        example: +49 12345 6789 001
        description: Validated according to country code
      fax:
        type: [ "string", "null" ]
        example: +49 12345 6789 002
        description: Validated according to country code
      mobile:
        type: [ "string", "null" ]
        example: +49 12345 6789 003
        description: Validated according to country code
      emailAddress:
        type: [ "string", "null" ]
        format: email
        example: max.muster@shopgate.com
      orderSegment:
        type: object
        properties:
          selectedShippingMethod:
            $ref: '#/definitions/SelectedShippingMethod'
          availableShippingMethods:
            type: array
            description: Contains all shipping method which are available fro this order segment. This property is only set if the order was not placed yet and is in the new status
            items:
              $ref: '#/definitions/ShippingMethod'
  FulfillmentGroup:
    allOf:
      - type: object
        properties:
          id:
            type: number
            example: 648
      - $ref: '#/definitions/PostFulfillmentGroup'
      - type: object
        properties:
          fulfillmentMethod:
            $ref: '#/definitions/FulfillmentMethod'
          fulfillmentLocationCode:
            type: string
          shipToAddressSequenceIndex:
            type: number
          fulfillments:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/SOFulfillment'
  PostFulfillmentGroup:
    additionalProperties: false
    type: object
    required:
      - fulfillmentMethod
      - fulfillments
    properties:
      fulfillmentMethod:
        $ref: '#/definitions/FulfillmentMethod'
      fulfillmentLocationCode:
        type: string
      shipToAddressSequenceIndex:
        type: number
      fulfillments:
        type: array
        items:
          $ref: '#/definitions/CreateFulfillment'
  SOFulfillment:
    type: object
    properties:
      id:
        type: number
        example: 981
      status:
        $ref: '#/definitions/FOFulfillmentStatus'
      carrier:
        type: string
        example: DHL
      serviceLevel:
        type: string
        example: sameDay
      tracking:
        type: string
        example: JJD000390007882823450
      fulfillmentPackages:
        type: array
        items:
          type: object
          properties:
            id:
              type: number
              example: 694
            status:
              $ref: '#/definitions/FOFulfillmentPackageStatus'
            serviceLevel:
              type: string
            fulfilledFromLocationCode:
              type: string
              example: DERetail001
            weight:
              type: number
              format: float
            weightUnit:
              $ref: '#/definitions/WeightUnit'
            dimensions:
              $ref: '#/definitions/PackageDimension'
            tracking:
              type: string
              example: JJD000390007882823450
            pickUpBy:
              type: string
              example: Kim Muster
            labelUrl:
              type: string
              example: https://documentserver.internal/label/label.pdf
            labelType:
              type: string
              enum:
                - pdf
                - zpl
            fulfillmentDate:
              type: string
              format: date-time
            packageItems:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: number
                    example: 457
                  salesOrderLineItemCode:
                    type: string
                    example: "386"
                  quantity:
                    type: number
  Fulfillment:
    type: object
    properties:
      id:
        type: number
        example: 981
      status:
        $ref: '#/definitions/FOFulfillmentStatus'
      carrier:
        type: string
        example: DHL
      serviceLevel:
        type: string
        example: sameDay
      tracking:
        type: string
        example: JJD000390007882823450
      createDate:
        $ref: '#/definitions/CreateDate'
      fulfillmentPackages:
        type: array
        items:
          $ref: '#/definitions/FulfillmentPackage'
  CreateFulfillment:
    type: object
    additionalProperties: false
    required:
      - status
      - fulfillmentPackages
    properties:
      status:
        $ref: '#/definitions/FOFulfillmentStatus'
      carrier:
        type: string
        example: 'DHL'
      serviceLevel:
        type: string
        example: 'sameDay'
      tracking:
        type: string
        example: 'JJD000390007882823450'
      fulfillmentPackages:
        type: array
        items:
          $ref: '#/definitions/CreateFulfillmentPackage'
  UpdateFulfillment:
    type: object
    additionalProperties: false
    properties:
      status:
        $ref: '#/definitions/FOFulfillmentStatus'
      carrier:
        type: string
        example: 'DHL'
      serviceLevel:
        type: string
        example: 'sameDay'
      tracking:
        type: string
        example: 'JJD000390007882823450'
      fulfillmentPackages:
        type: array
        items:
          $ref: '#/definitions/UpdateFulfillmentPackage'
  FulfillmentPackage:
    type: object
    properties:
      id:
        type: number
        example: 694
      status:
        $ref: '#/definitions/FOFulfillmentPackageStatus'
      serviceLevel:
        type: string
      fulfilledFromLocationCode:
        type: string
        example: DERetail001
      weight:
        type: number
        description: The actual package weight.
        format: float
      weightUnit:
        $ref: '#/definitions/WeightUnit'
      dimensions:
        $ref: '#/definitions/PackageDimension'
      tracking:
        type: string
        example: JJD000390007882823450
      pickUpBy:
        type: string
        example: Kim Muster
      labelUrl:
        type: string
        example: https://documentserver.internal/label/label.pdf
      labelType:
        type: string
        enum:
          - pdf
          - zpl
      returnLabelUrl:
        type: string
        example: https://documentserver.internal/label/returnLabel.pdf
      fulfillmentDate:
        type: string
        format: date-time
        description: The date and time of the package entering status "inTransit" or "fulfilled".
      packageItems:
        type: array
        items:
          type: object
          properties:
            salesOrderLineItemCode:
              type: string
              example: "386"
            quantity:
              type: number
  CreateFulfillmentPackage:
    type: object
    additionalProperties: true
    required:
      - packageItems
      - fulfilledFromLocationCode
    properties:
      status:
        type: string
        enum:
          - open
          - inProgress
          - readyForPickup
          - inTransit
          - fulfilled
          - canceled
        default: open
      serviceLevel:
        type: string
        example: 'sameDay'
      package:
        type: string
        example: 'small'
      fulfilledFromLocationCode:
        type: string
        example: 'DERetail001'
      weight:
        type: number
        format: float
        description: The actual package weight.
        example: 2000
      weightUnit:
        $ref: '#/definitions/WeightUnit'
      dimensions:
        $ref: '#/definitions/PackageDimension'
      tracking:
        type: string
        example: 'JJD000390007882823450'
      pickUpBy:
        type: string
        example: 'Kim Muster'
      labelUrl:
        type: string
        example: 'https://documentserver.internal/label/label.pdf'
      labelType:
        type: string
        enum:
          - pdf
          - zpl
      fulfillmentDate:
        type: string
        format: date-time
        description: The date and time of the package entering status "inTransit" or "fulfilled".
      packageItems:
        type: array
        items:
          $ref: '#/definitions/PostPackageItem'
  UpdateFulfillmentPackage:
    type: object
    additionalProperties: true
    properties:
      id:
        type: number
        example: 537
      status:
        type: string
        enum:
          - open
          - inProgress
          - readyForPickup
          - inTransit
          - fulfilled
          - canceled
        default: open
      serviceLevel:
        type: string
        example: 'sameDay'
      package:
        type: string
        example: 'small'
      fulfilledFromLocationCode:
        type: string
        example: 'DERetail001'
      weight:
        type: number
        format: float
        description: The actual package weight.
        example: 2000
      weightUnit:
        $ref: '#/definitions/WeightUnit'
      dimensions:
        $ref: '#/definitions/PackageDimension'
      tracking:
        type: string
        example: 'JJD000390007882823450'
      pickUpBy:
        type: string
        example: 'Kim Muster'
      labelUrl:
        type: string
        example: 'https://documentserver.internal/label/label.pdf'
      labelType:
        type: string
        enum:
          - pdf
          - zpl
      fulfillmentDate:
        type: string
        format: date-time
        description: The date and time of the package entering status "inTransit" or "fulfilled".
      packageItems:
        type: array
        items:
          $ref: '#/definitions/PostPackageItem'
  PackageDimension:
    type: object
    additionalProperties: false
    properties:
      length:
        type: number
        format: float
        example: 25.0
      lengthUnit:
        $ref: '#/definitions/DimensionUnit'
      width:
        type: number
        format: float
        example: 17.5
      widthUnit:
        $ref: '#/definitions/DimensionUnit'
      height:
        type: number
        format: float
        example: 10
      heightUnit:
        $ref: '#/definitions/DimensionUnit'
  DimensionUnit:
    type: string
    example: cm
    enum:
      - mm
      - cm
      - in
  PackageItem:
    type: object
    properties:
      id:
        type: number
        example: 457
      lineItemId:
        type: number
        example: 253
      quantity:
        type: number
        example: 5
  PostPackageItem:
    required:
      - salesOrderLineItemCode
      - quantity
    type: object
    properties:
      salesOrderLineItemCode:
        type: string
        example: "386"
      quantity:
        type: number
  PostFOLineItem:
    type: object
    required:
      - salesOrderLineItemCode
      - product
      - price
      - quantity
      - currencyCode
    properties:
      salesOrderLineItemCode:
        type: string
        example: "386"
      lineItemGroupId:
        type:
          - "null"
          - string
        maxLength: 255
        example: 386-1
        description: Used as a group identifier when single-quantity fulfillment is enabled
      sku:
        type:
          - string
          - "null"
        example: "1337-hoodie-dark-green"
      quantity:
        type: number
        format: float
        minimum: 0
      status:
        $ref: '#/definitions/LineItemStatus'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      price:
        type: number
        format: float
        example: 79.99
      salePrice:
        type: number
        format: float
        example: 65.99
      shippingAmount:
        type: number
        format: float
      unitPromoAmount:
        $ref: '#/definitions/UnitPromoAmount'
      unitDiscountAmount:
        $ref: '#/definitions/UnitDiscountAmount'
      taxAmount:
        type: number
        format: float
      tax2Amount:
        type: number
        format: float
      taxExempt:
        type: boolean
        default: false
      discountAmount:
        $ref: '#/definitions/DiscountAmount'
      promoAmount:
        $ref: '#/definitions/PromoAmount'
      overrideAmount:
        type: number
        format: float
      extendedPrice:
        $ref: '#/definitions/ExtendedPrice'
      product:
        $ref: '#/definitions/LineItemProduct'
      substitutionAllowed:
        type: boolean
        default: true
        description: Determines if a substitution is allowed for this line item.
  FOLineItem:
    type: object
    properties:
      id:
        type: number
        example: 253
      salesOrderLineItemCode:
        type: string
        example: "386"
      lineItemGroupId:
        type:
          - "null"
          - string
        example: 386-1
        description: Used as a group identifier when single-quantity fulfillment is enabled
      sku:
        type: string
        example: "1337-hoodie-dark-green"
      quantity:
        type: number
        example: 5
      quantityChangeReason:
        $ref: '#/definitions/QuantityChangeReason'
      status:
        $ref: '#/definitions/LineItemStatus'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      price:
        type: number
        format: float
        example: 79.99
      salePrice:
        type: number
        format: float
        example: 65.99
      shippingAmount:
        type: number
        format: float
      taxAmount:
        type: number
        format: float
      tax2Amount:
        type: number
        format: float
      taxExempt:
        type: boolean
      unitPromoAmount:
        $ref: '#/definitions/UnitPromoAmount'
      unitDiscountAmount:
        $ref: '#/definitions/UnitDiscountAmount'
      discountAmount:
        $ref: '#/definitions/DiscountAmount'
      promoAmount:
        $ref: '#/definitions/PromoAmount'
      overrideAmount:
        type: number
        format: float
      extendedPrice:
        $ref: '#/definitions/ExtendedPrice'
      product:
        $ref: '#/definitions/LineItemProduct'
      substitutionAllowed:
        type: boolean
        default: true
        description: Determines if a substitution is allowed for this line item.
  LineItem:
    allOf:
      - type: object
        properties:
          quantityChangeReason:
            $ref: '#/definitions/QuantityChangeReason'
          status:
            $ref: '#/definitions/SOLineItemStatus'
          subStatus:
            $ref: '#/definitions/SOLineItemSubStatus'
          returnQuantity:
            type: number
            example: 1
          routedQuantity:
            type: number
            example: 1
            description: Sum of this line item in fulfillment orders.
      - $ref: '#/definitions/PostSOLineItem'
  PostCoupon:
    type: object
    additionalProperties: false
    required:
      - code
    properties:
      code:
        type: string
        description: Code of the coupon
      name:
        type: string
        description: Name of the coupon
      limits:
        type: object
        additionalProperties: false
        properties:
          overall:
            type:
              - number
              - "null"
            description: Limit for the overall usage of this coupon
            example: 10
          maxPerCustomer:
            type:
              - number
              - "null"
            description: Indicates how often this coupon can be used per customer
            example: 1
      status:
        type: string
        enum:
          - active
          - redeemed
          - inactive
      couponSet:
        type: object
        properties:
          code:
            type: string
            example: 2020summerCoupons
          name:
            type: string
            example: All Summer Coupons for 2020
      promotion:
        type: ["null", "object"]
        properties:
          code:
            type: string
            example: 2020summerPromotion
          name:
            type: string
            description: Name of the Coupon
            example:  Coupons 10off
    example:
      code: SUMMER2020
      name: Coupon for Summer 2020
      limits:
        overall: 500
        maxPerCustomer: 1
      status: active
      couponSet: null
      promotion:
        code: promo
        name: Promo with Coupon
  PostSOLineItem:
    type: object
    additionalProperties: false
    required:
      - code
      - quantity
      - currencyCode
      - price
      - extendedPrice
      - fulfillmentMethod
      - fulfillmentLocationCode
      - shipToAddressSequenceIndex
      - product
    properties:
      code:
        type: string
        description: Identifier for the line item. Needs to be unique within the sales order.
        example: "386"
      parentLineItemCode:
        type: ["string", "null"]
        description: Identifier for the parent line item. Needs to be unique within the sales order.
        example: "286"
      quantity:
        type: number
        format: float
        minimum: 0
        example: 1
      fulfillmentMethod:
        $ref: '#/definitions/FulfillmentMethod'
      fulfillmentLocationCode:
        type: ["string", "null"]
        example: DERetail001
      shipToAddressSequenceIndex:
        description: Index of the address in the address sequence array where it should be shipped to
        type: integer
      product:
        $ref: '#/definitions/LineItemProduct'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      shippingAmount:
        type: number
        format: float
      taxAmount:
        $ref: '#/definitions/TaxAmount'
      tax2Amount:
        $ref: '#/definitions/Tax2Amount'
      taxExempt:
        type: boolean
      unitPromoAmount:
        $ref: '#/definitions/UnitPromoAmount'
      unitDiscountAmount:
        $ref: '#/definitions/UnitDiscountAmount'
      discountAmount:
        $ref: '#/definitions/DiscountAmount'
      promoAmount:
        $ref: '#/definitions/PromoAmount'
      overrideAmount:
        type: number
        format: float
      extendedPrice:
        $ref: '#/definitions/ExtendedPrice'
      price:
        type: number
        description: |
          Price of the line item. Formula: (product.price or product.salePrice if not empty) * quantity
        format: float
        example: 79.98
      substitutionAllowed:
        type: boolean
        default: true
        description: Determines if a substitution is allowed for this line item.
      fulfillmentSlot:
        $ref: '#/definitions/FulfillmentSlot'
        example:
          id: "5_2019-09-03"
          date: "2019-09-03"
          weekday: fri
          from: 08:00
          to: 08:59
          status: active
          orderCount: 10
      appliedPromotions:
        $ref: '#/definitions/AppliedPromotions'
      # replacedLineItemId:
      #   type: ["number", "null"]
  UpdateSOLineItem:
    type: object
    additionalProperties: false
    required:
      - code
    properties:
      code:
        type: string
        description: Identifier for the line item. Needs to be unique within the sales order.
        example: "386"
      parentLineItemCode:
        type: ["string", "null"]
        description: Identifier for the parent line item. Needs to be unique within the sales order.
        example: "286"
      status:
        $ref: '#/definitions/SOLineItemStatus'
      subStatus:
        $ref: '#/definitions/SOLineItemSubStatus'
      quantity:
        type: number
        format: float
        minimum: 0
        example: 1
      routedQuantity:
        type: number
        example: 1
        description: Sum of this line item in fulfillment orders.
      fulfillmentMethod:
        $ref: '#/definitions/FulfillmentMethod'
      fulfillmentLocationCode:
        type: ["string", "null"]
        example: DERetail001
      shipToAddressSequenceIndex:
        description: Index of the address in the address sequence array where it should be shipped to
        type: integer
      product:
        $ref: '#/definitions/LineItemProduct'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      shippingAmount:
        type: number
        format: float
      taxAmount:
        $ref: '#/definitions/TaxAmount'
      tax2Amount:
        $ref: '#/definitions/Tax2Amount'
      taxExempt:
        type: boolean
      unitPromoAmount:
        $ref: '#/definitions/UnitPromoAmount'
      unitDiscountAmount:
        $ref: '#/definitions/UnitDiscountAmount'
      discountAmount:
        $ref: '#/definitions/DiscountAmount'
      promoAmount:
        $ref: '#/definitions/PromoAmount'
      overrideAmount:
        type: number
        format: float
      extendedPrice:
        $ref: '#/definitions/ExtendedPrice'
      price:
        type: number
        description: Price of the line item
        format: float
      substitutionAllowed:
        type: boolean
        default: true
        description: Determines if a substitution is allowed for this line item.
      fulfillmentSlot:
        $ref: '#/definitions/FulfillmentSlot'
        example:
          id: "5_2019-09-03"
          date: "2019-09-03"
          weekday: fri
          from: 08:00
          to: 08:59
          status: active
          orderCount: 10
      appliedPromotions:
        $ref: '#/definitions/AppliedPromotions'
      replacedLineItemId:
        type: ["number", "null"]
      quantityChangeReason:
        $ref: '#/definitions/QuantityChangeReason'
  LineItemProduct:
    type: object
    required:
      - code
      - name
      - price
      - currencyCode
    properties:
      code:
        type: string
        description: Product code
        example: 24-MB02
        minLength: 1
      name:
        type: string
        description: Product name
        example: Fusion Backpack
      image:
        type: ["string", "null"]
        description: Main image url of the product
        format: uri
        example: https://myawesomeshop.com/images/img1.jpg
      price:
        type: number
        description: Main price of the product
        format: float
        example: 59.99
      salePrice:
        type: ["number", "null"]
        description: Sale price of the product
        format: float
        example: 39.99
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      identifiers:
        $ref: '#/definitions/ProductIdentifiers'
      options:
        type: array
        items:
          type: object
          required:
            - code
            - name
            - value
          properties:
            code:
              type: string
              example: color
            name:
              type: string
              example: Color
            value:
              type: object
              required:
                - code
                - name
              properties:
                code:
                  type: string
                  example: red
                name:
                  type: string
                  example: Red
  ProductIdentifiers:
    type: object
    properties:
      mfgPartNum:
        type:
          - "null"
          - string
        maxLength: 255
        example: 100-440-0.750-3434-A
      upc:
        type:
          - "null"
          - string
        maxLength: 255
        example: '"72527273070"'
      ean:
        type:
          - "null"
          - string
        maxLength: 255
        example: '"401234567890"'
      isbn:
        type:
          - "null"
          - string
        maxLength: 255
        example: 978-3-16-148410-0
      sku:
        type:
          - "null"
          - string
        maxLength: 255
        example: UGG-BB-PUR-06
      distiPartNum:
        type:
          - "null"
          - string
        maxLength: 255
        example: '"235454356363"'
  TaxSummary:
    type: array
    items:
      type: object
      properties:
        code:
          type: string
          example: default_19
        name:
          type: string
          example: 19%
        amount:
          type: number
          example: 1.5
  ShopCode:
    type: string
    description: Code of the source shop.
    example: shop_12345
  CartId:
    type: string
    example: 1ea48f37-dd5b-4533-a87f-8211092fbef1
  PaymentTransaction:
    type: object
    properties:
      id:
        type: string
        example: edadf6a6-f536-489f-92b8-c15fc1edc19b
      externalCode:
        $ref: '#/definitions/PaymentTransactionCode'
      status:
        type: string
        enum:
          - processing
          - authorized
          - captured
          - failed
        example: failed
      type:
        type: string
        enum:
          - order
          - refund
      paymentMethod:
        type: object
        properties:
          code:
            type: string
            example: stripe
          type:
            type: string
            example: cc
          provider:
            type: string
            example: stripe
      authorizedAmount:
        $ref: '#/definitions/AuthorizedAmount'
      chargedAmount:
        type: number
        description: Charged amount of this transaction
      checkoutParams:
        type: object
        description: Different from payment method to payment method
        example:
          paymentIntent: geosjhgirhgsigpr
      paymentError:
        type: object
        properties:
          message:
            type: string
            example: Your card has insufficient funds
          code:
            type: string
            description: External error code of the provider
            example: card_declined
      paymentInfo:
        type: object
        properties:
          type:
            type: string
            example: cc
          card:
            type: object
            properties:
              type:
                type: string
                description: Is set if the type is cc
                enum:
                  - visa
                  - masterCard
                  - AMEX
                  - discover
                  - jcb
                  - diners
                  - unknown
              last4:
                type: number
                example: 4242
  AuthorizedAmount:
    type: number
    description: Originally authorized amount
  PaymentTransactionCode:
    type: string
    description: External identifier for this transaction
    example: pi_GTS8a787uuRMaC86GBxpDABYn
  CreatePickingBatch:
    type: object
    additionalProperties: false
    required:
      - fulfillmentOrders
    properties:
      fulfillmentOrders:
        type: array
        minItems: 1
        items:
          type: object
          properties:
            orderNumber:
              type: string
              example: 10001-0001
  PickingBatch:
    type: object
    properties:
      id:
        type: string
        example: a4a93e83-5781-40da-8bff-b87af0452afe
      status:
        $ref: '#/definitions/PickingBatchStatus'
      startedDate:
        type: string
        example: '2021-09-20T08:13:54.866Z'
      locationCode:
        type: string
        example: 'warehouse'
      pickedDate:
        type: string
        example: '2021-09-20T09:00:11.866Z'
      completedDate:
        type: string
        example: '2021-09-20T10:32:42.866Z'
      fulfillmentOrders:
        type: array
        items:
          type: object
          properties:
            orderNumber:
              type: string
              example: 10001-0001
  GetPickingBatch:
    type: object
    allOf:
      - $ref: '#/definitions/PickingBatch'
    properties:
      lineItems:
        type: array
        items:
          $ref: '#/definitions/PickingBatchLineItem'
  PickingBatchLineItem:
    type: object
    properties:
      id:
        type: string
        example: c8dcf22f-0d0b-49b4-9ed5-0e194f32e1b6
      pickedQuantity:
        type: number
        format: float
        example: 3.0
      quantity:
        type: number
        format: float
        example: 5.0
      status:
        type: string
        enum:
          - open
          - inProgress
          - picked
      sku:
        type: string
        example: UGG-BB-PUR-06
      inventories:
        type: array
        items:
          type: object
          properties:
            bin:
              type: string
              example: 1203
            binLocation:
              type: string
              example: 1203-4
      fulfillmentOrderLineItems:
        type: array
        items:
          type: object
          properties:
            orderNumber:
              type: string
              example: 10001-0001
            lineItemId:
              type: number
              example: 253
            quantity:
              type: number
              format: float
              example: 2
      product:
        $ref: '#/definitions/LineItemProduct'
  PickingBatchStatus:
    type: string
    enum:
      - open
      - inProgress
      - picked
      - packing
      - packed
      - canceled
  ReturnReason:
    type: object
    properties:
      code:
        type: string
        example: damaged
      status:
        type: string
        default: active
        enum:
          - active
          - inactive
      sequenceId:
        type: number
        minimum: 0
        example: 11
      name:
        type: [string, object]
        $ref: '#/definitions/LocalizationShort'
  CreateReturnReason:
    type: object
    properties:
      code:
        type: string
        example: damaged
      status:
        type: string
        default: active
        enum:
          - active
          - inactive
      sequenceId:
        type: number
        minimum: 0
        example: 11
      name:
        type: object
        $ref: '#/definitions/LocalizationShort'
  ProductCondition:
    type: object
    properties:
      code:
        type: string
        example: poor
      status:
        type: string
        default: active
        enum:
          - active
          - inactive
      sequenceId:
        type: number
        minimum: 0
        example: 11
      name:
        type: [ string, object ]
        $ref: '#/definitions/LocalizationShort'
  CreateProductCondition:
    type: object
    additionalProperties: false
    properties:
      code:
        type: string
        example: poor
      status:
        type: string
        default: active
        enum:
          - active
          - inactive
      sequenceId:
        type: number
        minimum: 0
        example: 1
      name:
        type: object
        $ref: '#/definitions/LocalizationShort'
  ValidationErrors:
    type: object
    properties:
      errors:
        type: array
        items:
          $ref: '#/definitions/ValidationError'
  ValidationError:
    type: object
    required:
      - field
      - code
      - message
    properties:
      field:
        type: string
        description: 'the parameter-field, that failed to validate, like "shopNumber"'
      value:
        type: string
        description: 'the value, that was sent, like "xxx"'
      code:
        type: string
        description: machine readable error code
        enum:
          - ENUM_MISMATCH
          - MAXIMUM
          - MAXIMUM_EXCLUSIVE
          - MINIMUM
          - MINIMUM_EXCLUSIVE
          - MULTIPLE_OF
          - ARRAY_LENGTH_LONG
          - ARRAY_LENGTH_SHORT
          - ARRAY_ADDITIONAL_ITEMS
          - ARRAY_UNIQUE
          - MAX_LENGTH
          - MIN_LENGTH
          - MAX_PROPERTIES
          - MIN_PROPERTIES
          - OBJECT_MISSING_REQUIRED_PROPERTY
          - OBJECT_PROPERTIES_MAXIMUM
          - OBJECT_PROPERTIES_MINIMUM
          - OBJECT_ADDITIONAL_PROPERTIES
          - OBJECT_DEPENDENCY_KEY
          - ONE_OF_MISSING
          - ONE_OF_MULTIPLE
          - NOT_PASSED
          - INVALID_FORMAT
          - UNKNOWN_FORMAT
          - PATTERN
      message:
        type: string
        description: human readable error code
    example:
      field: shopNumber
      message: 'Request validation failed: Parameter (shopNumber) is not a valid int64 integer: 100n06'
      code: validation.INVALID_TYPE
      value: 100n06
  Error:
    type: object
    required:
      - message
    properties:
      code:
        type: string
        description: machine readable error code
      message:
        type: string
        description: human readable error code
    example:
      code: internal.database
      message: Internal Database Error
  SalesOrderType:
    type: string
    default: standard
    enum:
      - standard
  FulfillmentOrderType:
    type: string
    enum:
      - directShip
      - BOPIS
      - ROPIS
  RouteType:
    type: string
    enum:
      - standardDirectShip
      - standardPickup
      - standardReserve
  WeightUnit:
    type: string
    enum:
      - g
      - lb
  CreateDate:
    type: string
    description: Date of the order when it was created in the Shopgate system
    format: date-time
  SubmitDate:
    type: ["string", "null"]
    description: Date when the order was submitted by the customer
    format: date-time
    example: "2019-09-02T09:02:57.733Z"
  AcceptDate:
    type: ["string", "null"]
    description: Date when the order status was changed to accepted
    format: date-time
    example: "2019-09-02T14:02:57.733Z"
  ReadyDate:
    type: ["string", "null"]
    description: Date when the order status was changed to ready
    format: date-time
    example: "2019-09-02T14:03:57.733Z"
  PlannedFulfillmentDate:
    type: ["string", "null"]
    description: Start of the planned fulfillment window
    format: date-time
    example: "2019-09-02T14:03:57.733Z"
  FulfillDate:
    type: ["string", "null"]
    description: Date when the order status was changed to fulfilled
    format: date-time
    example: "2019-09-03T15:02:32.733Z"
  CompleteDate:
    type: ["string", "null"]
    description: Date when the order status was changed to completed
    format: date-time
    example: "2019-09-03T15:02:57.733Z"
  HeldUntil:
    type: ["string", "null"]
    format: date-time
    example: "2019-10-05T09:02:57.733Z"
    description: Date until which order is held for pickup.
  PickupReminderApplicableAt:
    type: ["string", "null"]
    format: date-time
    example: "2019-09-02T09:02:57.733Z"
    description: Date when pickup reminder can be sent out.
  Notes:
    type: ["string", "null"]
    description: Customer notes where the shopper can provide special instructions. The notes are shown in the In-Store App & Admin.
    example: Please wrap each item individually.
    maxLength: 1000
  ExternalCode:
    type: string
    description: external order id
    example: "000000274"
    minLength: 1
  ExternalCustomerNumber:
    type: string
    example: 'C1756793'
    description: 'A customer number / reference to an external system.'
  ExtendedPrice:
    type: number
    format: float
    description: |
      The extended Price is the final price of the line item, including all discounts & promotions that apply to this line item, and also already multiplied with the quantity. Formula: (product.price or product.salePrice if not empty) * quantity + promoAmount + discountAmount. Example: A product original price is 60€ (product.price), but it is on sale for 40€ (product.salePrice). Ordered quantity is 2, there is no discount but there is a promotion that applies to this product and gives 10% additional discount (unitPromoAmount = 4€, promoAmount = 8€). The extended price of this line item should be (40€ * 2) + (-8€) = 72€.
    example: 72.00
  TaxAmount:
    type: number
    format: float
    description: Tax amount of the first tax group (e.g. for german taxes this is an absolut number based on either 7% or 19% of the order total; the order total is 10.00 EUR so the taxAmount is 10.00 EUR * 0.19 = 1.9 EUR)
    default: 0
  Tax2Amount:
    type: number
    format: float
    description: Tax amount of the second tax group (can be used for additional taxes like for example US state taxes)
    default: 0
  PromoAmount:
    description: |
     Total amount of all applied promotions for the line item. (Formula: lineItem.unitPromoAmount * lineItem.quantity)
    type: number
    format: float
    default: 0
    example: -8.00
  OrderPromoAmount:
    description: |
     Total amount of all applied promotions on order level. Without line item level promotions, since these are already included in the order subtotal.
    type: number
    format: float
    default: 0
    example: -5.00
  OrderDiscountAmount:
    description: |
     Total amount of all applied promotions with coupons on order level. Without line item level promotions, since these are already included in the order subtotal.
    type: number
    format: float
    default: 0
    example: 0
  DiscountAmount:
    description: |
     Total amount of all applied promotions with coupons for the line item. (Formula: lineItem.unitDiscountAmount * lineItem.quantity)
    type: number
    format: float
    default: 0
    example: -6.00
  UnitPromoAmount:
    description: |
     Amount of all applied promotions for a single unit (single quantity).
    type: number
    format: float
    default: 0
    example: -4.00
  UnitDiscountAmount:
    description: Amount of all applied discounts (promotions with coupons) for a single unit (single quantity).
    type: number
    format: float
    default: 0
    example: -3.00
  SpecialInstructions:
    type: ["string", "null"]
    description: Special instructions of the order. It can contain special shipping or fulfillment instructions
    example: House behind the dumpster
  FulfillmentMethod:
    type: string
    enum:
      - directShip
      - BOPIS
      - ROPIS
    example: ROPIS
  CurrencyCode:
    type: string
    minLength: 3
    maxLength: 3
    example: EUR
  LocaleCode:
    type: string
    minLength: 2
    maxLength: 5
  LocaleCodeNormalized:
    type: string
    pattern: ^[a-z]{2}[-_][a-zA-Z]{2}$
    example: 'de-de'
    description: 5-character locale code - normalized to lowercase with dash separator. e.g. 'en-us'.
  SourceIP:
    type: string
    description: IP address from the client where the order was placed. It can be a IPv4 or IPv6 address
    example: 85.45.62.2
  UserAgent:
    type: ["string", "null"]
    description: The UserAgent string from headers of the incoming request.
    example: Mozilla/5.0 (Android 4.4; Mobile; rv:41.0) Gecko/41.0 Firefox/41.0
  Domain:
    type: ["string", "null"]
    description: The domain from which order came.
    example: www.mydomain.com
    pattern: ^(((?!-))(xn--|_{1,1})?[a-z0-9-]{0,61}[a-z0-9]{1,1}\.)*(xn--)?([a-z0-9][a-z0-9\-]{0,60}|[a-z0-9-]{1,30}\.[a-z]{2,})$
  Platform:
    type: string
    description: The platform from which the order came.
    example: engage
    enum:
      - engage
      - desktop
      - mobile
      - checkoutPage
      - inStoreApp
      - other
  OS:
    type: string
    description: Operation system of the source device
    example: ios
    enum:
      - ios
      - android
      - other
  Imported:
    type: boolean
    description: Indicates if the order has been imported from an external system. Enabling this flag means that there will be no further processes triggered by this order like emitting events, calculating properties like prices, or starting payment transactions.
    example: false
  CampaignAttribution:
    type:
      - object
      - "null"
    required:
      - campaignCode
      - channel
      - distributionIndex
    properties:
      campaignCode:
        type: string
      channel:
        type: string
      distributionIndex:
        type: number
    description: Campaign the order should be attributed to
    example: { "campaignCode": "CMP-1", "channel": "push", "distributionIndex": 0 }
  PosTransactionId:
    type: string
    description: Transaction id of the POS
    example: 528a-1
  CancellationReason:
    type: string
    enum:
      - expired
      - declined
      - newPurchase
      - tooBusy
      - unavailableProducts
      - other
  FulfillmentOrderStatus:
    type: string
    default: new
    enum:
      - new
      - requested
      - accepted
      - inProgress
      - picked
      - packed
      - ready
      - hold
      - checkedIn
      - canceled
      - rejected
      - fulfilled
  FOFulfillmentStatus:
    type: string
    enum:
      - open
      - canceled
      - inProgress
      - fulfilled
  FOFulfillmentPackageStatus:
    type: string
    enum:
      - open
      - inProgress
      - readyForPickup
      - inTransit
      - fulfilled
      - canceled
  FOOrderNumber:
    type: string
    description: Unique fulfillment order number
    example: "1293747-0001"
    maxLength: 50
  FulfillmentOrderAddress:
    type: object
    required:
      - firstName
      - lastName
      - type
      - orderIndex
      - emailAddress
    properties:
      orderIndex:
        type: number
      type:
        type: string
        enum:
          - pickup
          - shipping
          - billing
      firstName:
        type: string
        example: Max
      middleName:
        type: ["string", "null"]
        example: René
      lastName:
        type: string
        example: Muster
      company:
        type: ["string", "null"]
        example: 'Shopgate GmbH'
      address1:
        type: ["string", "null"]
        example: Schloßstr. 10
        description: If used as shipping address for direct ship, this field is required
      address2:
        type: ["string", "null"]
        example: Haus B
      address3:
        type: ["string", "null"]
        example: erste Etage
      address4:
        type: ["string", "null"]
        example: null
      city:
        type: ["string", "null"]
        example: Butzbach
        description: This field is required if used as shipping address for direct ship
      region:
        type: ["string", "null"]
        example: HE
      postalCode:
        type: ["string", "null"]
        example: '"35510"'
        description: This field is required if used as shipping address for direct ship
      country:
        type: ["string", "null"]
        example: DE
        description: This field is required if used as shipping address for direct ship
      additionalFields:
        type: object
        $ref: '#/definitions/AddressAdditionalFields'
      phone:
        type: ["string", "null"]
        example: +49 12345 6789 001
        description: Validated according to country code
      fax:
        type: ["string", "null"]
        example: +49 12345 6789 002
        description: Validated according to country code
      mobile:
        type: ["string", "null"]
        example: +49 12345 6789 003
        description: Validated according to country code
      emailAddress:
        type: string
        example: max.muster@shopgate.com
  ReturnOrderType:
    type: string
    enum:
      - return
  ReturnOrderStatus:
    type: string
    default: new
    enum:
      - draft
      - new
      - inTransit
      - arrived
      - inReview
      - accepted
      - rejected
      - canceled
      - completed
  DropOffType:
    type: string
    enum:
      - inPerson
      - shipped
  ROLineItemStatus:
    type: string
    enum:
      - open
      - inProgress
      - rejected
      - canceled
      - completed
    example: inProgress
  ROLineItem:
    type: object
    properties:
      code:
        type: string
        description: Identifier for the line item. Needs to be unique within the return order.
        example: "R386"
      salesOrderLineItemCode:
        type: string
        description: Reference to the sales order line item being returned.
        example: "386"
      status:
        $ref: '#/definitions/ROLineItemStatus'
      quantity:
        type: number
        minimum: 0
        example: 5
      returnReason:
        type: object
        properties:
          code:
            type: string
          name:
            type: string
      productCondition:
        type: object
        properties:
          code:
            type: string
          name:
            type: string
      product:
        $ref: '#/definitions/LineItemProduct'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      price:
        type: number
        format: float
      shippingAmount:
        type: number
        format: float
      taxAmount:
        type: number
        format: float
      tax2Amount:
        type: number
        format: float
      taxExempt:
        type: boolean
      unitPromoAmount:
        $ref: '#/definitions/UnitPromoAmount'
      unitDiscountAmount:
        $ref: '#/definitions/UnitDiscountAmount'
      discountAmount:
        $ref: '#/definitions/DiscountAmount'
      promoAmount:
        $ref: '#/definitions/PromoAmount'
      overrideAmount:
        type: number
        format: float
      extendedPrice:
        $ref: '#/definitions/ExtendedPrice'
      note:
        type: string
      possibleFulfillmentLocations:
        type: array
        items:
          type: string
          example: DERetail001
  PostROLineItem:
    type: object
    required:
      - code
      - salesOrderLineItemCode
      - status
      - quantity
      - returnReason
      - productCondition
      - product
    properties:
      code:
        type: string
        example: "R386"
      salesOrderLineItemCode:
        type: string
        example: "386"
      status:
        $ref: '#/definitions/ROLineItemStatus'
      quantity:
        type: number
        example: 5
      returnReason:
        type: object
        properties:
          code:
            type: string
      productCondition:
        type: object
        properties:
          code:
            type: string
      product:
        $ref: '#/definitions/LineItemProduct'
      currencyCode:
        $ref: '#/definitions/CurrencyCode'
      price:
        type: number
        format: float
      shippingAmount:
        type: number
        format: float
      taxAmount:
        type: number
        format: float
      tax2Amount:
        type: number
        format: float
      taxExempt:
        type: boolean
      unitPromoAmount:
        $ref: '#/definitions/UnitPromoAmount'
      unitDiscountAmount:
        $ref: '#/definitions/UnitDiscountAmount'
      discountAmount:
        $ref: '#/definitions/DiscountAmount'
      promoAmount:
        $ref: '#/definitions/PromoAmount'
      overrideAmount:
        type: number
        format: float
      extendedPrice:
        $ref: '#/definitions/ExtendedPrice'
      note:
        type: string
  ROAddressSequence:
    type: object
    properties:
      type:
        type: string
        enum:
          - pickup
          - shipping
          - billing
      customerContactId:
        type: [ "string", "null" ]
        example: 0b475af4-7ed9-4065-b4bb-7d76c537d820
      firstName:
        type: string
        example: Max
      middleName:
        type: string
        example: René
      lastName:
        type: string
        example: Doe
      company:
        type: string
        example: 'Shopgate GmbH'
      address1:
        type: string
        example: Schloßstr. 10
      address2:
        type: string
      address3:
        type: string
      address4:
        type: string
      city:
        type: string
        example: Butzbach
      region:
        type: string
        example: HE
      postalCode:
        type: string
        example: "35510"
      country:
        type: string
        example: DE
        description: ISO 3166 ALPHA-2 / ISO 3166-2 Country Code
        # minLength: 2
        maxLength: 2
      phone:
        type: string
        example: +49 12345 6789 001
        description: Validated according to country code
      fax:
        type: string
        example: +49 12345 6789 002
        description: Validated according to country code
      mobile:
        type: string
        example: +49 12345 6789 003
        description: Validated according to country code
      emailAddress:
        type: string
        format: email
        example: max.muster@shopgate.com
  PostROAddressSequence:
    type: object
    required:
      - type
      - firstName
      - lastName
      - emailAddress
    properties:
      type:
        type: string
        enum:
          - pickup
          - shipping
          - billing
      customerContactId:
        type: ["string", "null"]
        example: 0b475af4-7ed9-4065-b4bb-7d76c537d820
      firstName:
        type: string
        example: Max
      middleName:
        type: ["string", "null"]
        example: René
      lastName:
        type: string
        example: Muster
      company:
        type: ["string", "null"]
        example: 'Shopgate GmbH'
      address1:
        type: ["string", "null"]
        example: Schloßstr. 10
        description: This field is required if used as shipping address for direct ship
      address2:
        type: ["string", "null"]
        example: Haus B
      address3:
        type: ["string", "null"]
        example: erste Etage
      address4:
        type: ["string", "null"]
        example: null
      city:
        type: ["string", "null"]
        example: Butzbach
        description: This field is required if used as shipping address for direct ship
      region:
        type: ["string", "null"]
        example: HE
      postalCode:
        type: ["string", "null"]
        example: '"35510"'
        description: This field is required if used as shipping address for direct ship
      country:
        type: ["string", "null"]
        example: DE
        description: ISO 3166 ALPHA-2 / ISO 3166-2 Country Code. This field is required if used as shipping address for direct ship
        maxLength: 2
      phone:
        type: ["string", "null"]
        example: +49 12345 6789 001
        description: Validated according to country code
      fax:
        type: ["string", "null"]
        example: +49 12345 6789 002
        description: Validated according to country code
      mobile:
        type: ["string", "null"]
        example: +49 12345 6789 003
        description: Validated according to country code
      emailAddress:
        type: string
        format: email
        example: max.muster@shopgate.com
  AppliedPromotions:
    type: array
    description:
      Applied promotions of the order. If the order is in the status new this parameter will be ignored.
      The system will automatically calc the promotions for the order
    items:
      type: object
      additionalProperties: false
      required:
        - code
        - name
        - discount
        - startDate
      properties:
        code:
          type: string
          example: 2020summerPromotion
        name:
          type: string
          example: Summer Promotion for 2020
        model:
          type: string
          default: simpleDiscount
          enum:
            - simpleDiscount
            - BOGO
        description:
          type:
            - string
            - "null"
          example: This promotion is for our summer coupons
        promotionalText:
          type:
            - string
            - "null"
          example: "This coupons gives you 10% off to celebrate the summer 2020"
          description: Promotional text that will be displayed to the customer
        status:
          type: string
          enum:
            - active
            - inactive
          default: active
        startDate:
          type: ["string", "null"]
          format: date-time
          example: 2020-07-01T00:00:000
        endDate:
          type: ["string", "null"]
          format: date-time
          example: 2020-07-01T00:00:000
        target:
          type: string
          enum:
            - order
            - product
            - orderShipping
            - productShipping
          default: order
        type:
          type: string
          enum:
            - coupon
            - promotion
          example: coupon
        discount:
          type: object
          required:
            - type
            - amount
          properties:
            type:
              type: string
              enum:
                - percentage
                - absolute
                - fixedPrice
            amount:
              type: number
              format: float
              example: 10
        conditions:
          type: object
          example:
            $and:
              - subTotal:
                  gte: 100
              - $or:
                  - fulfillmentMethod:
                      $in: ["directShip", "BOPIS", "ROPIS"]
                  - customer.segment.code:
                      $in: ["employees", "contractors"]
        impact:
          type: [object, "null"]
          description: Describes the impact of the promotion to specific line items. This only applies to BOGO promotions
          required:
            - conditions
          properties:
            conditions:
              type: [object, "null"]
              description: |
                Condition for products which should be impacted by the promotion
                This only applies to BOGO promotions.<br/>
                Available condition fields are:
                <ul>
                  <li></li>
                  <li>lineItem.product.code</li>
                  <li>lineItem.product.categoryCode</li>
                  <li>lineItem.product.price</li>
                  <li>lineItem.product.salePrice</li>
                  <li>lineItem.product.quantity</li>
                  <li>lineItem.product.options.&lt;optionsCode&gt;</li>
                  <li>lineItem.product.properties.&lt;propertyCode&gt;</li>
                </ul>
                The condition lineItem.quantity is always required. It needs to be set in the first level or in the $and condition on the first level
            automaticallyAddedToCart:
              type: boolean
              description: |
                Indicates if the product which the customer would receive is automatically added to the cart.
                This only applies if the condition has one rule with a single product code
          example:
            conditions: {"lineItem.product.categoryCode":{"$in":["shirts"]},"lineItem.quantity": 1}
            automaticallyAddedToCart: false
        coupon:
          type:
            - object
            - "null"
          additionalProperties: false
          required:
            - code
            - name
          example:
            code: summer2020
            name: Coupon 10off for the summer 2020
            limits:
              overall: 10
              maxPerCustomer: null
          properties:
            code:
              type: string
              description: Unique coupon code. This code can be used by the end customer to activate a promotion in his cart.
              example: summer2020
            name:
              type: string
              description: Name of the Coupon
              example:  Coupons 10off
            limits:
              type:
                - object
                - "null"
              additionalProperties: false
              properties:
                overall:
                  type:
                    - number
                    - "null"
                  description: Limit for the overall usage of this coupon
                  example: 10
                maxPerCustomer:
                  type:
                    - number
                    - "null"
                  description: Indicates how often this coupon can be used per customer
                  example: 1
        couponSet:
          type:
            - object
            - "null"
          required:
            - code
            - name
            - type
          example: null
          properties:
            code:
              type: string
              example: 2020summerSaleCoupons
            type:
              type: string
              enum:
                - generated
                - custom
            count:
              type: number
              maximum: 50000
              description: Only available and must be set for generated couponSet type.
              example: 20
            name:
              type: string
              example: All summer sale coupons for 2020
            description:
              type: string
              example: This coupon set contains all coupons for 2020
            prefix:
              type: string
              example: summer2020-
            suffix:
              type: string
              example: -covid
        limitConditions:
          description: |
            Set the limits how often the promotion can be used by a customer and with which other promotion it can be combined.
            For the field cantBeCombinedWithPromotionCode promotion code(s) can be given or a special code anyProductPromotions|anyOrderPromotions that
            will exclude any product|order promotion when it gets calculated.
            Available condition fields are:
            <ul>
              <li>maxOverallUsageCount</li>
              <li>maxCustomerUsageCount</li>
              <li>maxUsagePerOrder (only works for target=product)</li>
              <li>cantBeCombinedWithPromotionCode</li>
            </ul>
          type: ["object", "null"]
          example:
            maxOverallUsageCount: 100
            maxCustomerUsageCount: 1
            maxUsagePerOrder: 1
            cantBeCombinedWithPromotionCode:
              $in:
                - bogo1
  ReportingMetric:
    type: object
    properties:
      periodStart:
        type: string
        example: "2020-02-11"
      periodEnd:
        type: string
        example: "2020-03-10"
      value:
        type: ["number", "object"]
        example: 10.7
      breakdowns:
        type: array
        items:
          type: object
          properties:
            type:
              type: string
            value:
              type: ["number", "object"]
        example:
          - type: mobile
            value: 2.5
          - type: desktop
            value: 5
          - type: engage
            value: 3.2
  SetSelectedShippingMethod:
    type: object
    required:
      - code
      - serviceLevel
    properties:
      code:
        type: string
        example: standardShipping
      serviceLevel:
        type: object
        required:
          - code
          - carrier
        properties:
          code:
            type: string
            example: standard
          cost:
            type: number
            format: float
            example: 4.99
          carrier:
            type: object
            required:
              - code
            properties:
              code:
                type: string
                example: DHL
  SelectedShippingMethod:
    type: object
    properties:
      code:
        type: string
        example: standardShipping
      name:
        type: string
        example: Standard Shipping
      serviceLevel:
        $ref: '#/definitions/ShippingServiceLevel'
  ShippingMethod:
    type: object
    properties:
      code:
        type: string
        example: standardShipping
      name:
        type: string
        example: Standard Shipping
      serviceLevels:
        type: array
        items:
          $ref: '#/definitions/ShippingServiceLevel'
  ShippingServiceLevel:
    type: object
    properties:
      code:
        type: string
      name:
        type: string
        example: DHL Standard
      cost:
        type: number
        format: float
        example: 4.99
      iconUrl:
        type: string
        example: https://myserver.com/DHL.png
      carrier:
        type: object
        properties:
          code:
            type: string
            example: DHL
          name:
            type: string
            example: DHL International
  LocalizationShort:
    type: object
    description: |
      Localization object, see [Entity Localization](/docs/retail-red/ZG9jOjM1NjU0NzY4-concepts-and-entities#entity-localization) for further information.
      5-character locale code - normalized to lowercase with dash separator. e.g. 'en-us'.
    additionalProperties:
      type: string
      minLength: 1
      maxLength: 255
    example:
      en-us: "string in english"
      de-de: "Zeichenkette auf Deutsch"
  Pagination:
    type: object
    properties:
      limit:
        type: number
      offset:
        type: number
      totalItemCount:
        type: number
  BatchError:
    type: object
    properties:
      entityIndex:
        type: number
      entity:
        type: string
      entityId:
        type: string
      code:
        type: number
      message:
        type: string
      subentityPath:
        type: array
        items:
          type: ["string", "null", "number"]
  BatchErrors:
    type: object
    properties:
      errors:
        type: array
        items:
          $ref: '#/definitions/BatchError'
  ErrorList:
    type: array
    items:
      $ref: '#/definitions/ErrorListObject'
  ErrorListObject:
    type: object
    properties:
      code:
        type: number
        example: 400
      entity:
        type: string
        example: planet
      entityId:
        type:
          - string
          - object
        example: pluto
      entityIndex:
        type: integer
        example: 1
      reason:
        type: string
        example: "Planet pluto was not found (did you mean dwarf planet pluto?)"
      subentityPath:
        type: array
        items:
          type:
            - string
            - number
        example: ["lineItems", 0]
      validationErrors:
        type: array
        items:
          $ref: '#/definitions/ValidationError'
